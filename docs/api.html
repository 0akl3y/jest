<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>API Reference · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="API Reference · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="#### The Jest global environment"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><div class="navSlideout"><i class="menuExpand"><span></span><span></span><span></span></i></div><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/getting-started.html" class="active">Docs</a></li><li><a href="/jest/support.html" class="">Support</a></li><li><a href="/jest/blog/" class="">Blog</a></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li></ul></nav><script>
          var triggers = document.getElementsByClassName('menuExpand');
          var navs = document.getElementsByClassName('navSlideout');
          for (var i=0; i < triggers.length; i++) {
            triggers[i].onclick = function() {
              for (var j=0; j < navs.length; j++) {
                navs[j].classList.toggle('navSlideoutActive');
                navs[j].nextSibling.classList.toggle('slidingNavActive');
              }
            };
          }
        </script></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><a href="/jest/docs/">Docs</a><i>›</i><span>Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Quick Start</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/getting-started.html#content">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-react.html#content">Tutorial – React</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-react-native.html#content">Tutorial – React Native</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-async.html#content">Tutorial – Async</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-webpack.html#content">Tutorial – webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/tutorial-jquery.html#content">Tutorial – jQuery</a></li></ul></div><div class="navGroup navGroupActive"><h3>Reference</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/api.html#content">API Reference</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/troubleshooting.html#content">Troubleshooting</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/mock-functions.html#content">Mock functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/manual-mocks.html#content">Manual mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/timer-mocks.html#content">Timer mocks</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer documentContainer postContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link" href="https://github.com/facebook/jest/edit/master/docs/API.md" target="_blank">Edit on GitHub</a><h1>API Reference</h1></header><article><div><h4><a class="anchor" name="the-jest-global-environment"></a>The Jest global environment <a class="hash-link" href="#the-jest-global-environment">#</a></h4><p>In your test files, Jest puts each of these methods and objects into the global environment. You don&#x27;t have to require or import anything to use them.</p><ul><li><code>afterEach(fn)</code></li><li><code>beforeEach(fn)</code></li><li><a href="#basic-testing" target=""><code>describe(name, fn)</code></a></li><li><a href="#expect-value" target=""><code>expect(value)</code></a></li><li><a href="#basic-testing" target=""><code>it(name, fn)</code></a></li><li><code>fit(name, fn)</code> executes only this test. Useful when investigating a failure</li><li><a href="#the-jest-object" target=""><code>jest</code></a></li><li><a href="#require-requireactual-modulename" target=""><code>require.requireActual(moduleName)</code></a></li><li><a href="#require-requiremock-modulename" target=""><code>require.requireMock(moduleName)</code></a></li><li><code>test(name, fn)</code> is an alias for <code>it</code></li><li><code>xdescribe(name, fn)</code></li><li><code>xit(name, fn)</code></li></ul><h4><a class="anchor" name="writing-assertions-with-expect"></a>Writing assertions with <code>expect</code> <a class="hash-link" href="#writing-assertions-with-expect">#</a></h4><p>When you&#x27;re writing tests, you need to check that values are what you
expect all the time. That&#x27;s what you use <code>expect</code> for.</p><ul><li><a href="#expect-value" target=""><code>expect(value)</code></a></li><li><a href="#lastcalledwith-arg1-arg2" target=""><code>.lastCalledWith(arg1, arg2, ...)</code></a></li><li><a href="#not" target=""><code>.not</code></a></li><li><a href="#tobe-value" target=""><code>.toBe(value)</code></a></li><li><a href="#tobecalled" target=""><code>.toBeCalled()</code></a></li><li><a href="#tobecalledwith-arg1-arg2" target=""><code>.toBeCalledWith(arg1, arg2, ...)</code></a></li><li><a href="#tobecloseto-number-numdigits" target=""><code>.toBeCloseTo(number, numDigits)</code></a></li><li><a href="#tobedefined" target=""><code>.toBeDefined()</code></a></li><li><a href="#tobefalsy" target=""><code>.toBeFalsy()</code></a></li><li><a href="#tobegreaterthan-number" target=""><code>.toBeGreaterThan(number)</code></a></li><li><a href="#tobegreaterthanorequal-number" target=""><code>.toBeGreaterThanOrEqual(number)</code></a></li><li><a href="#tobelessthan-number" target=""><code>.toBeLessThan(number)</code></a></li><li><a href="#tobelessthanorequal-number" target=""><code>.toBeLessThanOrEqual(number)</code></a></li><li><a href="#tobenull" target=""><code>.toBeNull()</code></a></li><li><a href="#tobetruthy" target=""><code>.toBeTruthy()</code></a></li><li><a href="#tobeundefined" target=""><code>.toBeUndefined()</code></a></li><li><a href="#tocontain-item" target=""><code>.toContain(item)</code></a></li><li><a href="#toequal-value" target=""><code>.toEqual(value)</code></a></li><li><a href="#tomatch-regexp" target=""><code>.toMatch(regexp)</code></a></li><li><a href="#tomatchsnapshot" target=""><code>.toMatchSnapshot()</code></a></li><li><a href="#tothrow" target=""><code>.toThrow()</code></a></li><li><a href="#tothrowerror-error" target=""><code>.toThrowError(error)</code></a></li></ul><h4><a class="anchor" name="mock-functions"></a>Mock functions <a class="hash-link" href="#mock-functions">#</a></h4><p>Mock functions are also known as &quot;spies&quot;, because they let you spy on the behavior of a function that is called indirectly by some other code, rather than just testing the output. You can create a mock function with <code>jest.fn()</code>.</p><ul><li><a href="#mockfn-mock-calls" target=""><code>mockFn.mock.calls</code></a></li><li><a href="#mockfn-mock-instances" target=""><code>mockFn.mock.instances</code></a></li><li><a href="#mockfn-mockclear" target=""><code>mockFn.mockClear()</code></a></li><li><a href="#mockfn-mockimplementation-fn" target=""><code>mockFn.mockImplementation(fn)</code></a></li><li><a href="#mockfn-mockreturnthis" target=""><code>mockFn.mockReturnThis()</code></a></li><li><a href="#mockfn-mockreturnvalue-value" target=""><code>mockFn.mockReturnValue(value)</code></a></li><li><a href="#mockfn-mockreturnvalueonce-value" target=""><code>mockFn.mockReturnValueOnce(value)</code></a></li></ul><h4><a class="anchor" name="the-jest-object"></a>The <code>jest</code> object <a class="hash-link" href="#the-jest-object">#</a></h4><p>These methods help create mocks and let you control Jest&#x27;s overall behavior.</p><ul><li><a href="#jest-clearalltimers" target=""><code>jest.clearAllTimers()</code></a></li><li><a href="#jest-disableautomock" target=""><code>jest.disableAutomock()</code></a></li><li><a href="#jest-enableautomock" target=""><code>jest.enableAutomock()</code></a></li><li><a href="#jest-fn-implementation" target=""><code>jest.fn(?implementation)</code></a></li><li><a href="#jest-ismockfunction-fn" target=""><code>jest.isMockFunction(fn)</code></a></li><li><a href="#jest-genmockfrommodule-modulename" target=""><code>jest.genMockFromModule(moduleName)</code></a></li><li><a href="#jest-mock-modulename-factory-options" target=""><code>jest.mock(moduleName, ?factory, ?options)</code></a></li><li><a href="#jest-resetmodules" target=""><code>jest.resetModules()</code></a></li><li><a href="#jest-runallticks" target=""><code>jest.runAllTicks()</code></a></li><li><a href="#jest-runalltimers" target=""><code>jest.runAllTimers()</code></a></li><li><a href="#jest-runonlypendingtimers" target=""><code>jest.runOnlyPendingTimers()</code></a></li><li><a href="#jest-setmock-modulename-moduleexports" target=""><code>jest.setMock(moduleName, moduleExports)</code></a></li><li><a href="#jest-unmock-modulename" target=""><code>jest.unmock(moduleName)</code></a></li><li><a href="#jest-usefaketimers" target=""><code>jest.useFakeTimers()</code></a></li><li><a href="#jest-userealtimers" target=""><code>jest.useRealTimers()</code></a></li></ul><h4><a class="anchor" name="configuration-options-configuration"></a><a href="#configuration" target="">Configuration Options</a> <a class="hash-link" href="#configuration-options-configuration">#</a></h4><p>These options let you control Jest&#x27;s behavior in your <code>package.json</code> file. The Jest philosophy is to work great by default, but sometimes you just need more configuration power.</p><ul><li><a href="#automock-boolean" target=""><code>automock</code> [boolean]</a></li><li><a href="#browser-boolean" target=""><code>browser</code> [boolean]</a></li><li><a href="#bail-boolean" target=""><code>bail</code> [boolean]</a></li><li><a href="#cachedirectory-string" target=""><code>cacheDirectory</code> [string]</a></li><li><a href="#coveragedirectory-string" target=""><code>coverageDirectory</code> [string]</a></li><li><a href="#collectcoverage-boolean" target=""><code>collectCoverage</code> [boolean]</a></li><li><a href="#collectcoverageonlyfrom-object" target=""><code>collectCoverageOnlyFrom</code> [object]</a></li><li><a href="#coveragepathignorepattern-array-string" target=""><code>coveragePathIgnorePatterns</code> [array&lt;string&gt;]</a></li><li><a href="#coveragethreshold-object" target=""><code>coverageThreshold</code> [object]</a></li><li><a href="#globals-object" target=""><code>globals</code> [object]</a></li><li><a href="#mockspattern-string" target=""><code>mocksPattern</code> [string]</a></li><li><a href="#moduledirectories-array-string" target=""><code>moduleDirectories</code> [array&lt;string&gt;]</a></li><li><a href="#modulefileextensions-array-string" target=""><code>moduleFileExtensions</code> [array&lt;string&gt;]</a></li><li><a href="#modulenamemapper-object-string-string" target=""><code>moduleNameMapper</code> [object&lt;string, string&gt;]</a></li><li><a href="#modulepaths-array-string" target=""><code>modulePaths</code> [array&lt;string&gt;]</a></li><li><a href="#modulepathignorepatterns-array-string" target=""><code>modulePathIgnorePatterns</code> [array&lt;string&gt;]</a></li><li><a href="#notify-boolean" target=""><code>notify</code> [boolean]</a></li><li><a href="#preprocessorignorepatterns-array-string" target=""><code>preprocessorIgnorePatterns</code> [array&lt;string&gt;]</a></li><li><a href="#preset-string" target=""><code>preset</code> [string]</a></li><li><a href="#resetmodules-boolean" target=""><code>resetModules</code> [boolean]</a></li><li><a href="#rootdir-string" target=""><code>rootDir</code> [string]</a></li><li><a href="#scriptpreprocessor-string" target=""><code>scriptPreprocessor</code> [string]</a></li><li><a href="#setupfiles-array" target=""><code>setupFiles</code> [array]</a></li><li><a href="#setuptestframeworkscriptfile-string" target=""><code>setupTestFrameworkScriptFile</code> [string]</a></li><li><a href="#testenvironment-string" target=""><code>testEnvironment</code> [string]</a></li><li><a href="#testpathdirs-array-string" target=""><code>testPathDirs</code> [array&lt;string&gt;]</a></li><li><a href="#testpathignorepatterns-array-string" target=""><code>testPathIgnorePatterns</code> [array&lt;string&gt;]</a></li><li><a href="#testpathpattern-string" target=""><code>testPathPattern</code> [string]</a></li><li><a href="#testregex-string" target=""><code>testRegex</code> [string]</a></li><li><a href="#testresultsprocessor-string" target=""><code>testResultsProcessor</code> [string]</a></li><li><a href="#testrunner-string" target=""><code>testRunner</code> [string]</a></li><li><a href="#unmockedmodulepathpatterns-array-string" target=""><code>unmockedModulePathPatterns</code> [array&lt;string&gt;]</a></li><li><a href="#verbose-boolean" target=""><code>verbose</code> [boolean]</a></li></ul><hr><h2><a class="anchor" name="the-jest-global-environment"></a>The Jest global environment <a class="hash-link" href="#the-jest-global-environment">#</a></h2><h3><a class="anchor" name="basic-testing"></a>Basic Testing <a class="hash-link" href="#basic-testing">#</a></h3><p>All you need in a test file is the <code>it</code> method which runs a test. The convention is to name your test so that your code reads like a sentence - that&#x27;s why the name of the core testing function is <code>it</code>. For example, let&#x27;s say there&#x27;s a function <code>inchesOfRain()</code> that should be zero. Your whole test file could be:</p><pre class="prism language-javascript">
<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;did not rain&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">inchesOfRain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>The first argument is the test name; the second argument is a function that contains the expectations to test.</p><p>It&#x27;s often handy to group together several related tests in one &quot;test suite&quot;. For example, if you have a <code>myBeverage</code> object that is supposed to be delicious but not sour, you could test it with:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> myBeverage <span class="token operator">=</span> <span class="token punctuation">{</span>
  delicious<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
  sour<span class="token punctuation">:</span> <span class="token keyword">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;my beverage&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;is delicious&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>myBeverage<span class="token punctuation">.</span>delicious<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;is not sour&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>myBeverage<span class="token punctuation">.</span>sour<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeFalsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><p>To test an asynchronous function, just return a promise from <code>it</code>. When running tests, Jest will wait for the promise to resolve before letting the test complete.</p><p>For example, let&#x27;s say <code>fetchBeverageList()</code> returns a promise that is supposed to resolve to a list that has <code>lemon</code> in it. You can test this with:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;my beverage list&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;has lemon in it&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">fetchBeverageList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">expect</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">&#x27;lemon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Even though the call to <code>it</code> will return right away, the test doesn&#x27;t complete until the promise resolves as well.</p><h3><a class="anchor" name="require-requireactual-modulename"></a><code>require.requireActual(moduleName)</code> <a class="hash-link" href="#require-requireactual-modulename">#</a></h3><p>Returns the actual module instead of a mock, bypassing all checks on whether the
module should receive a mock implementation or not.</p><h3><a class="anchor" name="require-requiremock-modulename"></a><code>require.requireMock(moduleName)</code> <a class="hash-link" href="#require-requiremock-modulename">#</a></h3><p>Returns a mock module instead of the actual module, bypassing all checks on
whether the module should be required normally or not.</p><h2><a class="anchor" name="writing-assertions-with-expect"></a>Writing assertions with <code>expect</code> <a class="hash-link" href="#writing-assertions-with-expect">#</a></h2><h3><a class="anchor" name="expect-value"></a><code>expect(value)</code> <a class="hash-link" href="#expect-value">#</a></h3><p>The <code>expect</code> function is used every time you want to test a value. You will rarely call <code>expect</code> by itself. Instead, you will use <code>expect</code> along with a &quot;matcher&quot; function to assert something about a value.</p><p>It&#x27;s easier to understand this with an example. Let&#x27;s say you have a method <code>bestLaCroixFlavor()</code> which is supposed to return the string <code>&#x27;grapefruit&#x27;</code>.
Here&#x27;s how you would test that:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;the best La Croix flavor&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;is grapefruit&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bestLaCroixFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;grapefruit&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>In this case, <code>toBe</code> is the matcher function. There are a lot of different matcher functions, documented below, to help you test different things.</p><p>The argument to <code>expect</code> should be the value that your code produces, and any argument to the matcher should be the correct value. If you mix them up, your tests will still work, but the error messages on failing tests will look strange.</p><h3><a class="anchor" name="lastcalledwith-arg1-arg2"></a><code>.lastCalledWith(arg1, arg2, ...)</code> <a class="hash-link" href="#lastcalledwith-arg1-arg2">#</a></h3><p>If you have a mock function, you can use <code>.lastCalledWith</code> to test what arguments it was last called with. For example, let&#x27;s say you have a <code>applyToAllFlavors(f)</code> function that applies <code>f</code> to a bunch of flavors, and you want to ensure that when you call it, the last flavor it operates on is <code>&#x27;mango&#x27;</code>. You can write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;applying to all flavors&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;does mango last&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> drink <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">applyToAllFlavors</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">lastCalledWith</span><span class="token punctuation">(</span><span class="token string">&#x27;mango&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="not"></a><code>.not</code> <a class="hash-link" href="#not">#</a></h3><p>If you know how to test something, <code>.not</code> lets you test its opposite. For example, this code tests that the best La Croix flavor is not coconut:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;the best La Croix flavor&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;is not coconut&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bestLaCroixFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;coconut&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobe-value"></a><code>.toBe(value)</code> <a class="hash-link" href="#tobe-value">#</a></h3><p><code>toBe</code> just checks that a value is what you expect. It uses <code>===</code> to check
strict equality.</p><p>For example, this code will validate some properties of the <code>beverage</code> object:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> can <span class="token operator">=</span> <span class="token punctuation">{</span>
  ounces<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
  name<span class="token punctuation">:</span> <span class="token string">&#x27;pamplemousse&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;the can&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;has 12 ounces&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>can<span class="token punctuation">.</span>ounces<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;has a sophisticated name&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>can<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token string">&#x27;pamplemousse&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Don&#x27;t use <code>toBe</code> with floating-point numbers. For example, due to rounding, in JavaScript <code>0.2 + 0.1</code> is not strictly equal to <code>0.3</code>. If you have floating point numbers, try <code>.toBeCloseTo</code> instead.</p><h3><a class="anchor" name="tobecalled"></a><code>.toBeCalled()</code> <a class="hash-link" href="#tobecalled">#</a></h3><p>Use <code>.toBeCalled</code> to ensure that a mock function got called.</p><p>For example, let&#x27;s say you have a <code>drinkAll(drink, flavor)</code> function that takes a <code>drink</code> function and applies it to all available beverages. You might want to check that <code>drink</code> gets called for <code>&#x27;lemon&#x27;</code>, but not for <code>&#x27;octopus&#x27;</code>, because <code>&#x27;octopus&#x27;</code> flavor is really weird and why would anything be octopus-flavored? You can do that with this test suite:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;drinkAll&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;drinks something lemon-flavored&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> drink <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">drinkAll</span><span class="token punctuation">(</span>drink<span class="token punctuation">,</span> <span class="token string">&#x27;lemon&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;does not drink something octopus-flavored&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> drink <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">drinkAll</span><span class="token punctuation">(</span>drink<span class="token punctuation">,</span> <span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>drink<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBeCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobecalledwith-arg1-arg2"></a><code>.toBeCalledWith(arg1, arg2, ...)</code> <a class="hash-link" href="#tobecalledwith-arg1-arg2">#</a></h3><p>Use <code>.toBeCalledWith</code> to ensure that a mock function was called with specific
arguments.</p><p>For example, let&#x27;s say that you can register a beverage with a <code>register</code> function, and <code>applyToAll(f)</code> should apply the function <code>f</code> to all registered beverages. To make sure this works, you could write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;beverage registration&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;applies correctly to orange La Croix&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> beverage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LaCroix</span><span class="token punctuation">(</span><span class="token string">&#x27;orange&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">register</span><span class="token punctuation">(</span>beverage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> f <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">applyToAll</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalledWith</span><span class="token punctuation">(</span>beverage<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobecloseto-number-numdigits"></a><code>.toBeCloseTo(number, numDigits)</code> <a class="hash-link" href="#tobecloseto-number-numdigits">#</a></h3><p>Using exact equality with floating point numbers is a bad idea. Rounding means that intuitive things fail. For example, this test fails:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;adding numbers&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;works sanely with simple decimals&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// Fails!</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>It fails because in JavaScript, <code>0.2 + 0.1</code> is actually <code>0.30000000000000004</code>. Sorry.</p><p>Instead, use <code>.toBeCloseTo</code>. Use <code>numDigits</code> to control how many digits after the decimal point to check. For example, if you want to be sure that <code>0.2 + 0.1</code> is equal to <code>0.3</code> with a precision of 5 decimal digits, you can use this test:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;adding numbers&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;works sanely with simple decimals&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token number">0.2</span> <span class="token operator">+</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCloseTo</span><span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>The default for <code>numDigits</code> is 2, which has proved to be a good default in most cases.</p><h3><a class="anchor" name="tobedefined"></a><code>.toBeDefined()</code> <a class="hash-link" href="#tobedefined">#</a></h3><p>Use <code>.toBeDefined</code> to check that a variable is not undefined. For example, if you just want to check that a function <code>fetchNewFlavorIdea()</code> returns <em>something</em>, you can write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;fetching new flavor ideas&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;returns something&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">fetchNewFlavorIdea</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeDefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>You could write <code>expect(fetchNewFlavorIdea()).not.toBe(undefined)</code>, but it&#x27;s better practice to avoid referring to <code>undefined</code> directly in your code.</p><h3><a class="anchor" name="tobefalsy"></a><code>.toBeFalsy()</code> <a class="hash-link" href="#tobefalsy">#</a></h3><p>Use <code>.toBeFalsy</code> when you don&#x27;t care what a value is, you just want to ensure a value is false in a boolean context. For example, let&#x27;s say you have some application code that looks like:</p><pre class="prism language-javascript">
<span class="token function">drinkSomeLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">getErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">drinkMoreLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre><p>You may not care what <code>getErrors</code> returns, specifically - it might return <code>false</code>, <code>null</code>, or <code>0</code>, and your code would still work. So if you want to test there are no errors after drinking some La Croix, you could write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;drinking some La Croix&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;does not lead to errors&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">drinkSomeLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeFalsy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>In JavaScript, there are six falsy values: <code>false</code>, <code>0</code>, <code>&#x27;&#x27;</code>, <code>null</code>, <code>undefined</code>, and <code>NaN</code>. Everything else is truthy.</p><h3><a class="anchor" name="tobegreaterthan-number"></a><code>.toBeGreaterThan(number)</code> <a class="hash-link" href="#tobegreaterthan-number">#</a></h3><p>To compare floating point numbers, you can use <code>toBeGreaterThan</code>. For example, if you want to test that <code>ouncesPerCan()</code> returns a value of more than 10 ounces, write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;ounces per can&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;is more than 10&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ouncesPerCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThan</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobegreaterthanorequal-number"></a><code>.toBeGreaterThanOrEqual(number)</code> <a class="hash-link" href="#tobegreaterthanorequal-number">#</a></h3><p>To compare floating point numbers, you can use <code>toBeGreaterThanOrEqual</code>. For example, if you want to test that <code>ouncesPerCan()</code> returns a value of at least 12 ounces, write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;ounces per can&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;is at least 12&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ouncesPerCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeGreaterThanOrEqual</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobelessthan-number"></a><code>.toBeLessThan(number)</code> <a class="hash-link" href="#tobelessthan-number">#</a></h3><p>To compare floating point numbers, you can use <code>toBeLessThan</code>. For example, if you want to test that <code>ouncesPerCan()</code> returns a value of less than 20 ounces, write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;ounces per can&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;is less than 20&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ouncesPerCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThan</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobelessthanorequal-number"></a><code>.toBeLessThanOrEqual(number)</code> <a class="hash-link" href="#tobelessthanorequal-number">#</a></h3><p>To compare floating point numbers, you can use <code>toBeLessThanOrEqual</code>. For example, if you want to test that <code>ouncesPerCan()</code> returns a value of at most 12 ounces, write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;ounces per can&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;is at most 12&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">ouncesPerCan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeLessThanOrEqual</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tobenull"></a><code>.toBeNull()</code> <a class="hash-link" href="#tobenull">#</a></h3><p><code>.toBeNull()</code> is the same as <code>.toBe(null)</code> but the error messages are a bit nicer. So use <code>.toBeNull()</code> when you want to check that something is null.</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">bloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;bloop&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;returns null&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bloop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeNull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><h3><a class="anchor" name="tobetruthy"></a><code>.toBeTruthy()</code> <a class="hash-link" href="#tobetruthy">#</a></h3><p>Use <code>.toBeTruthy</code> when you don&#x27;t care what a value is, you just want to ensure a value is true in a boolean context. For example, let&#x27;s say you have some application code that looks like:</p><pre class="prism language-javascript">
<span class="token function">drinkSomeLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">thirstInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">drinkMoreLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></pre><p>You may not care what <code>thirstInfo</code> returns, specifically - it might return <code>true</code> or a complex object, and your code would still work. So if you just want to test that <code>thirstInfo</code> will be truthy after drinking some La Croix, you could write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;drinking some La Croix&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;leads to having thirst info&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">drinkSomeLaCroix</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">thirstInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeTruthy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>In JavaScript, there are six falsy values: <code>false</code>, <code>0</code>, <code>&#x27;&#x27;</code>, <code>null</code>, <code>undefined</code>, and <code>NaN</code>. Everything else is truthy.</p><h3><a class="anchor" name="tobeundefined"></a><code>.toBeUndefined()</code> <a class="hash-link" href="#tobeundefined">#</a></h3><p>Use <code>.toBeUndefined</code> to check that a variable is undefined. For example, if you want to check that a function <code>bestDrinkForFlavor(flavor)</code> returns <code>undefined</code> for the <code>&#x27;octopus&#x27;</code> flavor, because there is no good octopus-flavored drink:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;the best drink&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;for octopus flavor is undefined&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">bestDrinkForFlavor</span><span class="token punctuation">(</span><span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeUndefined</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>You could write <code>expect(bestDrinkForFlavor(&#x27;octopus&#x27;)).toBe(undefined)</code>, but it&#x27;s better practice to avoid referring to <code>undefined</code> directly in your code.</p><h3><a class="anchor" name="tocontain-item"></a><code>.toContain(item)</code> <a class="hash-link" href="#tocontain-item">#</a></h3><p>Use <code>.toContain</code> when you want to check that an item is in a list. For testing the items in the list, this uses <code>===</code>, a strict equality check.</p><p>For example, if <code>getAllFlavors()</code> returns a list of flavors and you want to be sure that <code>lime</code> is in there, you can write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;the list of all flavors&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;contains lime&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">getAllFlavors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toContain</span><span class="token punctuation">(</span><span class="token string">&#x27;lime&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="toequal-value"></a><code>.toEqual(value)</code> <a class="hash-link" href="#toequal-value">#</a></h3><p>Use <code>.toEqual</code> when you want to check that two objects have the same value. This matcher recursively checks the equality of all fields, rather than checking for object identity. For example, <code>toEqual</code> and <code>toBe</code> behave differently in this test suite, so all the tests pass:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> can1 <span class="token operator">=</span> <span class="token punctuation">{</span>
  flavor<span class="token punctuation">:</span> <span class="token string">&#x27;grapefruit&#x27;</span><span class="token punctuation">,</span>
  ounces<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> can2 <span class="token operator">=</span> <span class="token punctuation">{</span>
  flavor<span class="token punctuation">:</span> <span class="token string">&#x27;grapefruit&#x27;</span><span class="token punctuation">,</span>
  ounces<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;the La Croix cans on my desk&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;have all the same properties&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>can1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span>can2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;are not the exact same can&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>can1<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>can2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="tomatch-regexp"></a><code>.toMatch(regexp)</code> <a class="hash-link" href="#tomatch-regexp">#</a></h3><p>Use <code>.toMatch</code> to check that a string matches a regular expression.</p><p>For example, you might not know what exactly <code>essayOnTheBestFlavor()</code> returns, but you know it&#x27;s a really long string, and the substring <code>grapefruit</code> should be in there somewhere. You can test this with:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;an essay on the best flavor&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;mentions grapefruit&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">essayOnTheBestFlavor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMatch</span><span class="token punctuation">(</span><span class="token regex">/grapefruit/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></pre><h3><a class="anchor" name="tomatchsnapshot"></a><code>.toMatchSnapshot()</code> <a class="hash-link" href="#tomatchsnapshot">#</a></h3><p>This ensures that a React component matches the most recent snapshot. Check out <a href="https://facebook.github.io/jest/docs/tutorial-react.html" target="_blank">the React + Jest tutorial</a> for more information on snapshot testing.</p><h3><a class="anchor" name="tothrow"></a><code>.toThrow()</code> <a class="hash-link" href="#tothrow">#</a></h3><p>Use <code>.toThrow</code> to test that a function throws when it is called. For example, if we want to test that <code>drinkFlavor(&#x27;octopus&#x27;)</code> throws, because octopus flavor is too disgusting to drink, we could write:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;drinking flavors&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;throws on octopus&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">drink</span><span class="token punctuation">(</span><span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>If you want to test that a specific error gets thrown, use <code>.toThrowError</code>.</p><h3><a class="anchor" name="tothrowerror-error"></a><code>.toThrowError(error)</code> <a class="hash-link" href="#tothrowerror-error">#</a></h3><p>Use <code>.toThrowError</code> to test that a function throws a specific error when it
is called. The argument can be a string for the error message, a class for the error, or a regex that should match the error. For example, let&#x27;s say you have a <code>drinkFlavor</code> function that throws whenever the flavor is <code>&#x27;octopus&#x27;</code>, and is coded like this:</p><pre class="prism language-javascript">
<span class="token keyword">function</span> <span class="token function">drinkFlavor</span><span class="token punctuation">(</span>flavor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>flavor <span class="token operator">==</span> <span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">DisgustingFlavorError</span><span class="token punctuation">(</span><span class="token string">&#x27;yuck, octopus flavor&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span spellcheck="true" class="token comment">// Do some other stuff</span>
<span class="token punctuation">}</span></pre><p>We could test this error gets thrown in several ways:</p><pre class="prism language-javascript">
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&#x27;drinking flavors&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;throws on octopus&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">drinkOctopus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">drink</span><span class="token punctuation">(</span><span class="token string">&#x27;octopus&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span spellcheck="true" class="token comment">// Test the exact error message</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>drinkOctopus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token string">&#x27;yuck, octopus flavor&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span spellcheck="true" class="token comment">// Test that the error message says &quot;yuck&quot; somewhere</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>drinkOctopus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span><span class="token regex">/yuck/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span spellcheck="true" class="token comment">// Test that we get a DisgustingFlavorError</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>drinkOctopus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toThrowError</span><span class="token punctuation">(</span>DisgustingFlavorError<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>If you don&#x27;t care what specific error gets thrown, use <code>.toThrow</code>.</p><h2><a class="anchor" name="mock-functions"></a>Mock Functions <a class="hash-link" href="#mock-functions">#</a></h2><h3><a class="anchor" name="mockfn-mock-calls"></a><code>mockFn.mock.calls</code> <a class="hash-link" href="#mockfn-mock-calls">#</a></h3><p>An array that represents all calls that have been made into this mock function. Each call is represented by an array of arguments that were passed during the call.</p><p>For example: A mock function <code>f</code> that has been called twice, with the arguments <code>f(&#x27;arg1&#x27;, &#x27;arg2&#x27;)</code>, and then with the arguments <code>f(&#x27;arg3&#x27;, &#x27;arg4&#x27;)</code> would have a <code>mock.calls</code> array that looks like this:</p><pre class="prism language-javascript">
<span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&#x27;arg1&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;arg2&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&#x27;arg3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;arg4&#x27;</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span></pre><h3><a class="anchor" name="mockfn-mock-instances"></a><code>mockFn.mock.instances</code> <a class="hash-link" href="#mockfn-mock-instances">#</a></h3><p>An array that contains all the object instances that have been instantiated from this mock function.</p><p>For example: A mock function that has been instantiated twice would have the following <code>mock.instances</code> array:</p><pre class="prism language-javascript">
<span class="token keyword">var</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>instances<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> a<span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>instances<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> b<span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span></pre><h3><a class="anchor" name="mockfn-mockclear"></a><code>mockFn.mockClear()</code> <a class="hash-link" href="#mockfn-mockclear">#</a></h3><p>Resets all information stored in the <a href="#mockfn-mock-calls" target=""><code>mockFn.mock.calls</code></a> and <a href="#mockfn-mock-instances" target=""><code>mockFn.mock.instances</code></a> arrays.</p><p>Often this is useful when you want to clean up a mock&#x27;s usage data between two assertions.</p><h3><a class="anchor" name="mockfn-mockimplementation-fn"></a><code>mockFn.mockImplementation(fn)</code> <a class="hash-link" href="#mockfn-mockimplementation-fn">#</a></h3><p>Accepts a function that should be used as the implementation of the mock. The mock itself will still record all calls that go into and instances that come from itself – the only difference is that the implementation will also be executed when the mock is called.</p><p><em>Note: <code>jest.fn(implementation)</code> is a shorthand for <code>mockImplementation</code>.</em></p><p>For example:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockImplementation</span><span class="token punctuation">(</span>scalar <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">42</span> <span class="token operator">+</span> scalar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// or: jest.fn(scalar =&gt; 42 + scalar);</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

a <span class="token operator">===</span> <span class="token number">42</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
b <span class="token operator">===</span> <span class="token number">43</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>

mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span></pre><p><code>mockImplementation</code> can also be used to mock class constructors:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// SomeClass.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
  <span class="token function">m</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span spellcheck="true" class="token comment">// OtherModule.test.js</span>
<span class="token keyword">const</span> SomeClass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;SomeClass&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> mMock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
SomeClass<span class="token punctuation">.</span><span class="token function">mockImplementation</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">:</span> mMock
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> some <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
some<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;b&#x27;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Calls to m: &#x27;</span><span class="token punctuation">,</span> mMock<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">)</span></pre><h3><a class="anchor" name="mockfn-mockreturnthis"></a><code>mockFn.mockReturnThis()</code> <a class="hash-link" href="#mockfn-mockreturnthis">#</a></h3><p>Just a simple sugar function for:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="mockfn-mockreturnvalue-value"></a><code>mockFn.mockReturnValue(value)</code> <a class="hash-link" href="#mockfn-mockreturnvalue-value">#</a></h3><p>Deprecated: Use <code>jest.fn(() =&gt; value)</code> instead.</p><pre class="prism language-javascript">
<span class="token keyword">const</span> mockNumberFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">mockNumberFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// 42</span>

<span spellcheck="true" class="token comment">// Deprecated behavior:</span>
jest<span class="token punctuation">.</span><span class="token function">genMockFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockImplementation</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="mockfn-mockreturnvalueonce-value"></a><code>mockFn.mockReturnValueOnce(value)</code> <a class="hash-link" href="#mockfn-mockreturnvalueonce-value">#</a></h3><p>Just a simple sugar function for:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> valueReturned <span class="token operator">=</span> <span class="token keyword">false</span><span class="token punctuation">;</span>
jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>valueReturned<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    valueReturned <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h2><a class="anchor" name="the-jest-object"></a>The <code>jest</code> object <a class="hash-link" href="#the-jest-object">#</a></h2><h3><a class="anchor" name="jest-clearalltimers"></a><code>jest.clearAllTimers()</code> <a class="hash-link" href="#jest-clearalltimers">#</a></h3><p>Removes any pending timers from the timer system.</p><p>This means, if any timers have been scheduled (but have not yet executed), they will be cleared and will never have the opportunity to execute in the future.</p><h3><a class="anchor" name="jest-disableautomock"></a><code>jest.disableAutomock()</code> <a class="hash-link" href="#jest-disableautomock">#</a></h3><p>Disables automatic mocking in the module loader.</p><p>After this method is called, all <code>require()</code>s will return the real versions of each module (rather than a mocked version).</p><p>This is usually useful when you have a scenario where the number of dependencies you want to mock is far less than the number of dependencies that you don&#x27;t. For example, if you&#x27;re writing a test for a module that uses a large number of dependencies that can be reasonably classified as &quot;implementation details&quot; of the module, then you likely do not want to mock them.</p><p>Examples of dependencies that might be considered &quot;implementation details&quot; are things ranging from language built-ins (e.g. Array.prototype methods) to highly common utility methods (e.g. underscore/lo-dash, array utilities etc) and entire libraries like React.js.</p><p><em>Note: this method was previously called <code>autoMockOff</code>. When using <code>babel-jest</code>, calls to <code>disableAutomock</code> will automatically be hoisted to the top of the code block. Use <code>autoMockOff</code> if you want to explicitly avoid this behavior.</em></p><h3><a class="anchor" name="jest-enableautomock"></a><code>jest.enableAutomock()</code> <a class="hash-link" href="#jest-enableautomock">#</a></h3><p>Enables automatic mocking in the module loader.</p><p><em>Note: this method was previously called <code>autoMockOn</code>. When using <code>babel-jest</code>, calls to <code>enableAutomock</code> will automatically be hoisted to the top of the code block. Use <code>autoMockOn</code> if you want to explicitly avoid this behavior.</em></p><h3><a class="anchor" name="jest-fn-implementation"></a><code>jest.fn(?implementation)</code> <a class="hash-link" href="#jest-fn-implementation">#</a></h3><p>Returns a new, unused <a href="#mock-functions" target="">mock function</a>. Optionally takes a mock
implementation.</p><pre class="prism language-javascript">
  <span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>mockFn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBeCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span spellcheck="true" class="token comment">// With a mock implementation:</span>
  <span class="token keyword">const</span> returnsTrue <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">returnsTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span spellcheck="true" class="token comment">// true;</span></pre><h3><a class="anchor" name="jest-ismockfunction-fn"></a><code>jest.isMockFunction(fn)</code> <a class="hash-link" href="#jest-ismockfunction-fn">#</a></h3><p>Determines if the given function is a mocked function.</p><h3><a class="anchor" name="jest-genmockfrommodule-modulename"></a><code>jest.genMockFromModule(moduleName)</code> <a class="hash-link" href="#jest-genmockfrommodule-modulename">#</a></h3><p>Given the name of a module, use the automatic mocking system to generate a mocked version of the module for you.</p><p>This is useful when you want to create a <a href="/jest/docs/manual-mocks.html" target="">manual mock</a> that extends the automatic mock&#x27;s behavior.</p><h3><a class="anchor" name="jest-mock-modulename-factory-options"></a><code>jest.mock(moduleName, ?factory, ?options)</code> <a class="hash-link" href="#jest-mock-modulename-factory-options">#</a></h3><p>Mocks a module with an auto-mocked version when it is being required:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// banana.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#x27;banana&#x27;</span><span class="token punctuation">;</span>

<span spellcheck="true" class="token comment">// __tests__/test.js</span>
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../banana&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> banana <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../banana&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// banana will be explicitly mocked.</span>

<span class="token function">banana</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// will return &#x27;undefined&#x27; because the function is auto-mocked.</span></pre><p>The second argument can be used to specify an explicit module factory that is being run instead of using Jest&#x27;s automocking feature:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> moduleName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// This runs the function specified as second argument to `jest.mock`.</span>
<span class="token function">moduleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// Will return &#x27;42&#x27;;</span></pre><p>The third argument can be used to create virtual mocks – mocks of modules that don&#x27;t exist anywhere in the system:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">// custom implementation of a module that doesn&#x27;t exist in JS, like a generated module or a native module in react-native.</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>virtual<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p><em>Note: When using <code>babel-jest</code>, calls to <code>mock</code> will automatically be hoisted to the top of the code block. Use <code>doMock</code> if you want to explicitly avoid this behavior.</em></p><h3><a class="anchor" name="jest-resetmodules"></a><code>jest.resetModules()</code> <a class="hash-link" href="#jest-resetmodules">#</a></h3><p>Resets the module registry - the cache of all required modules. This is useful to isolate modules where local state might conflict between tests.</p><p>Example:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> sum1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jest<span class="token punctuation">.</span><span class="token function">resetModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sum2 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sum1 <span class="token operator">===</span> sum2 <span spellcheck="true" class="token comment">// false! Both sum modules are separate &quot;instances&quot; of the sum module.</span></pre><p>Example in a test:</p><pre class="prism language-javascript">
<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  jest<span class="token punctuation">.</span><span class="token function">resetModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;works&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;works too&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span spellcheck="true" class="token comment">// sum is a different copy of the sum module from the previous test.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="jest-runallticks"></a><code>jest.runAllTicks()</code> <a class="hash-link" href="#jest-runallticks">#</a></h3><p>Exhausts the <strong>micro</strong>-task queue (usually interfaced in node via <code>process.nextTick</code>).</p><p>When this API is called, all pending micro-tasks that have been queued via <code>process.nextTick</code> will be executed. Additionally, if those micro-tasks themselves schedule new micro-tasks, those will be continually exhausted until there are no more micro-tasks remaining in the queue.</p><h3><a class="anchor" name="jest-runalltimers"></a><code>jest.runAllTimers()</code> <a class="hash-link" href="#jest-runalltimers">#</a></h3><p>Exhausts the <strong>macro</strong>-task queue (i.e., all tasks queued by <code>setTimeout()</code> and <code>setInterval()</code>).</p><p>When this API is called, all pending &quot;macro-tasks&quot; that have been queued via <code>setTimeout()</code> or <code>setInterval()</code> will be executed. Additionally if those macro-tasks themselves schedule new macro-tasks, those will be continually exhausted until there are no more macro-tasks remaining in the queue.</p><p>This is often useful for synchronously executing setTimeouts during a test in order to synchronously assert about some behavior that would only happen after the <code>setTimeout()</code> or <code>setInterval()</code> callbacks executed. See the <a href="/jest/docs/timer-mocks.html" target="">Timer mocks</a> doc for more information.</p><h3><a class="anchor" name="jest-runonlypendingtimers"></a><code>jest.runOnlyPendingTimers()</code> <a class="hash-link" href="#jest-runonlypendingtimers">#</a></h3><p>Executes only the macro-tasks that are currently pending (i.e., only the tasks that have been queued by <code>setTimeout()</code> or <code>setInterval()</code> up to this point). If any of the currently pending macro-tasks schedule new macro-tasks, those new tasks will not be executed by this call.</p><p>This is useful for scenarios such as one where the module being tested schedules a <code>setTimeout()</code> whose callback schedules another <code>setTimeout()</code> recursively (meaning the scheduling never stops). In these scenarios, it&#x27;s useful to be able to run forward in time by a single step at a time.</p><h3><a class="anchor" name="jest-setmock-modulename-moduleexports"></a><code>jest.setMock(moduleName, moduleExports)</code> <a class="hash-link" href="#jest-setmock-modulename-moduleexports">#</a></h3><p>Explicitly supplies the mock object that the module system should return for the specified module.</p><p>On occasion there are times where the automatically generated mock the module system would normally provide you isn&#x27;t adequate enough for your testing needs. Normally under those circumstances you should write a <a href="/jest/docs/manual-mocks.html" target="">manual mock</a> that is more adequate for the module in question. However, on extremely rare occasions, even a manual mock isn&#x27;t suitable for your purposes and you need to build the mock yourself inside your test.</p><p>In these rare scenarios you can use this API to manually fill the slot in the module system&#x27;s mock-module registry.</p><p><em>Note It is recommended to use <a href="#jest-mock-modulename-factory" target=""><code>jest.mock()</code></a> instead. The <code>jest.mock</code> API&#x27;s second argument is a module factory instead of the expected exported module object.</em></p><h3><a class="anchor" name="jest-unmock-modulename"></a><code>jest.unmock(moduleName)</code> <a class="hash-link" href="#jest-unmock-modulename">#</a></h3><p>Indicates that the module system should never return a mocked version of the specified module from <code>require()</code> (e.g. that it should always return the real module).</p><p>The most common use of this API is for specifying the module a given test intends to be testing (and thus doesn&#x27;t want automatically mocked).</p><p><em>Note: this method was previously called <code>dontMock</code>. When using <code>babel-jest</code>, calls to <code>unmock</code> will automatically be hoisted to the top of the code block. Use <code>dontMock</code> if you want to explicitly avoid this behavior.</em></p><h3><a class="anchor" name="jest-usefaketimers"></a><code>jest.useFakeTimers()</code> <a class="hash-link" href="#jest-usefaketimers">#</a></h3><p>Instructs Jest to use fake versions of the standard timer functions (<code>setTimeout</code>, <code>setInterval</code>, <code>clearTimeout</code>, <code>clearInterval</code>, <code>nextTick</code>, <code>setImmediate</code> and <code>clearImmediate</code>). Fake timers are used by default.</p><h3><a class="anchor" name="jest-userealtimers"></a><code>jest.useRealTimers()</code> <a class="hash-link" href="#jest-userealtimers">#</a></h3><p>Instructs Jest to use the real versions of the standard timer functions.</p><h2><a class="anchor" name="configuration"></a>Configuration <a class="hash-link" href="#configuration">#</a></h2><p>Jest&#x27;s configuration can be defined in the <code>package.json</code> file of your project
or through the <code>--config &lt;path/to/json&gt;</code> option. If you&#x27;d like to use
your <code>package.json</code> to store Jest&#x27;s config, the &quot;jest&quot; key should be used on the
top level so Jest will know how to find your settings:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;my-project&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;verbose&quot;</span><span class="token punctuation">:</span> <span class="token keyword">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>When using the --config option, the JSON file must not contain a &quot;jest&quot; key:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;bail&quot;</span><span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">,</span>
  <span class="token string">&quot;verbose&quot;</span><span class="token punctuation">:</span> <span class="token keyword">true</span>
<span class="token punctuation">}</span></pre><h3><a class="anchor" name="automock-boolean"></a><code>automock</code> [boolean] <a class="hash-link" href="#automock-boolean">#</a></h3><p>(default: false)</p><p>This option is disabled by default. If you are introducing Jest to a large organization with an existing codebase but few tests, enabling this option can be helpful to introduce unit tests gradually. Modules can be explicitly auto-mocked using <code>jest.mock(moduleName)</code>.</p><h3><a class="anchor" name="browser-boolean"></a><code>browser</code> [boolean] <a class="hash-link" href="#browser-boolean">#</a></h3><p>(default: false)</p><p>Respect the Browserify&#x27;s <a href="https://github.com/substack/browserify-handbook#browser-field" target="_blank"><code>&quot;browser&quot;</code></a> field in <code>package.json</code> when resolving modules. Some modules export different versions based on whether they are operating in Node or a browser.</p><h3><a class="anchor" name="bail-boolean"></a><code>bail</code> [boolean] <a class="hash-link" href="#bail-boolean">#</a></h3><p>(default: false)</p><p>By default, Jest runs all tests and produces all errors into the console upon completion. The bail config option can be used here to have Jest stop running tests after the first failure.</p><h3><a class="anchor" name="cachedirectory-string"></a><code>cacheDirectory</code> [string] <a class="hash-link" href="#cachedirectory-string">#</a></h3><p>(default: &#x27;/tmp/&lt;path&gt;&#x27;)</p><p>The directory where Jest should store its cached dependency information.</p><p>Jest attempts to scan your dependency tree once (up-front) and cache it in order to ease some of the filesystem raking that needs to happen while running tests. This config option lets you customize where Jest stores that cache data on disk.</p><h3><a class="anchor" name="coveragedirectory-string"></a><code>coverageDirectory</code> [string] <a class="hash-link" href="#coveragedirectory-string">#</a></h3><p>(default: <code>undefined</code>)</p><p>The directory where Jest should output its coverage files.</p><h3><a class="anchor" name="collectcoverage-boolean"></a><code>collectCoverage</code> [boolean] <a class="hash-link" href="#collectcoverage-boolean">#</a></h3><p>(default: <code>false</code>)</p><p>Indicates whether the coverage information should be collected while executing the test. Because this retrofits all executed files with coverage collection statements, it may significantly slow down your tests.</p><h3><a class="anchor" name="collectcoverageonlyfrom-object"></a><code>collectCoverageOnlyFrom</code> [object] <a class="hash-link" href="#collectcoverageonlyfrom-object">#</a></h3><p>(default: <code>undefined</code>)</p><p>An object that, when present, indicates a set of files for which coverage information should be collected. Any files not present in this set will not have coverage collected for them. Since there is a performance cost for each file that we collect coverage information from, this can help prune this cost down to only the files in which you care about coverage (such as the specific modules that you are testing).</p><h3><a class="anchor" name="coveragepathignorepatterns-array-string"></a><code>coveragePathIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#coveragepathignorepatterns-array-string">#</a></h3><p>(default: <code>[&#x27;/node_modules/&#x27;]</code>)</p><p>An array of regexp pattern strings that are matched against all file paths before executing the test. If the file path matches any of the patterns, coverage information will be skipped.</p><p>These pattern strings match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to  include the path to your project&#x27;s root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&#x27;&lt;rootDir&gt;/build/&#x27;, &#x27;&lt;rootDir&gt;/node_modules/&#x27;]</code>.</p><h3><a class="anchor" name="coveragethreshold-object"></a><code>coverageThreshold</code> [object] <a class="hash-link" href="#coveragethreshold-object">#</a></h3><p>(default: <code>undefined</code>)</p><p>This will be used to configure minimum threshold enforcement for coverage results. If the thresholds are not met, jest will return failure. Thresholds, when specified as a positive number are taken to be the minimum percentage required. When a threshold is specified as a negative number it represents the maximum number of uncovered entities allowed.</p><p>For example, statements: 90 implies minimum statement coverage is 90%. statements: -10 implies that no more than 10 uncovered statements are allowed.</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;coverageThreshold&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;global&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;branches&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">&quot;functions&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">&quot;lines&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
        <span class="token string">&quot;statements&quot;</span><span class="token punctuation">:</span> <span class="token number">50</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><h3><a class="anchor" name="globals-object"></a><code>globals</code> [object] <a class="hash-link" href="#globals-object">#</a></h3><p>(default: <code>{}</code>)</p><p>A set of global variables that need to be available in all test environments.</p><p>For example, the following would create a global <code>__DEV__</code> variable set to <code>true</code> in all test environments:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token string">&quot;jest&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;globals&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;__DEV__&quot;</span><span class="token punctuation">:</span> <span class="token keyword">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></pre><p>Note that, if you specify a global reference value (like an object or array) here, and some code mutates that value in the midst of running a test, that mutation will <em>not</em> be persisted across test runs for other test files.</p><h3><a class="anchor" name="mockspattern-string"></a><code>mocksPattern</code> [string] <a class="hash-link" href="#mockspattern-string">#</a></h3><p>(default: <code>(?:[\\/]|^)__mocks__[\\/]</code>)</p><p>A pattern that is matched against file paths to determine which folder contains manual mocks.</p><h3><a class="anchor" name="modulefileextensions-array-string"></a><code>moduleFileExtensions</code> [array&lt;string&gt;] <a class="hash-link" href="#modulefileextensions-array-string">#</a></h3><p>(default: <code>[&#x27;js&#x27;, &#x27;json&#x27;, &#x27;node&#x27;]</code>)</p><p>An array of file extensions your modules use. If you require modules without specifying a file extension, these are the extensions Jest will look for.</p><p>If you are using TypeScript this should be <code>[&#x27;js&#x27;, &#x27;json&#x27;, &#x27;ts&#x27;]</code></p><h3><a class="anchor" name="modulepathignorepatterns-array-string"></a><code>modulePathIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#modulepathignorepatterns-array-string">#</a></h3><p>(default: <code>[]</code>)</p><p>An array of regexp pattern strings that are matched against all module paths before those paths are to be considered &#x27;visible&#x27; to the module loader. If a given module&#x27;s path matches any of the patterns, it will not be <code>require()</code>-able in the test environment.</p><p>These pattern strings match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to  include the path to your project&#x27;s root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&#x27;&lt;rootDir&gt;/build/&#x27;]</code>.</p><h3><a class="anchor" name="modulepaths-array-string"></a><code>modulePaths</code> [array&lt;string&gt;] <a class="hash-link" href="#modulepaths-array-string">#</a></h3><p>(default: <code>[]</code>)</p><p>An alternative API to setting the <code>NODE_PATH</code> env variable, <code>modulePaths</code> is an array of absolute paths to
additional locations to search when resolving modules.</p><h3><a class="anchor" name="moduledirectories-array-string"></a><code>moduleDirectories</code> [array&lt;string&gt;] <a class="hash-link" href="#moduledirectories-array-string">#</a></h3><p>(default: <code>[&#x27;node_modules&#x27;]</code>)</p><p>An array of directory names to be searched recursively up from the requiring module&#x27;s location. Setting this option
will <em>override</em> the default, if you wish to still search <code>node_modules</code> for packages include it
along with any other options: <code>[&#x27;node_modules&#x27;, &#x27;bower_components&#x27;]</code></p><h3><a class="anchor" name="modulenamemapper-object-string-string"></a><code>moduleNameMapper</code> [object&lt;string, string&gt;] <a class="hash-link" href="#modulenamemapper-object-string-string">#</a></h3><p>(default: <code>null</code>)</p><p>A map from regular expressions to module names that allow to stub out resources, like images or styles with a single module.</p><p>Modules that are mapped to an alias are unmocked by default, regardless of whether automocking is enabled or not.</p><p>Use <code>&lt;rootDir&gt;</code> string token to refer to <a href="#rootdir-string" target=""><code>rootDir</code></a> value if you want to use file paths.</p><p>Additionally, you can substitute captured regex groups using numbered backreferences.</p><p>Example:</p><pre class="prism language-javascript">
  <span class="token string">&quot;moduleNameMapper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;^image![a-zA-Z0-9$_-]+$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;GlobalImageStub&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;^[./a-zA-Z0-9$_-]+\.png$&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/RelativeImageStub.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;module_name_(.*)&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;&lt;rootDir&gt;/substituted_module_$1.js&quot;</span>
  <span class="token punctuation">}</span></pre><h3><a class="anchor" name="notify-boolean"></a><code>notify</code> [boolean] <a class="hash-link" href="#notify-boolean">#</a></h3><p>(default: <code>false</code>)</p><p>Activates notifications for test results.</p><h3><a class="anchor" name="preset-string"></a><code>preset</code> [string] <a class="hash-link" href="#preset-string">#</a></h3><p>(default: <code>undefined</code>)</p><p>A preset that is used as a base for Jest&#x27;s configuration. A preset should point to an npm module that exports a <code>jest-preset.json</code> module on its top level.</p><h3><a class="anchor" name="resetmodules-boolean"></a><code>resetModules</code> [boolean] <a class="hash-link" href="#resetmodules-boolean">#</a></h3><p>(default: <code>false</code>)</p><p>If enabled, the module registry for every test file will be reset before running each individual test. This is useful to isolate modules for every test so that local module state doesn&#x27;t conflict between tests. This can be done programmatically using <a href="#jest-resetmodules" target=""><code>jest.resetModules()</code></a>.</p><h3><a class="anchor" name="rootdir-string"></a><code>rootDir</code> [string] <a class="hash-link" href="#rootdir-string">#</a></h3><p>(default: The root of the directory containing the <code>package.json</code> <em>or</em> the <a href="http://en.wikipedia.org/wiki/Pwd" target="_blank"><code>pwd</code></a> if no <code>package.json</code> is found)</p><p>The root directory that Jest should scan for tests and modules within. If you put your Jest config inside your <code>package.json</code> and want the root directory to be the root of your repo, the value for this config param will default to the directory of the <code>package.json</code>.</p><p>Oftentimes, you&#x27;ll want to set this to <code>&#x27;src&#x27;</code> or <code>&#x27;lib&#x27;</code>, corresponding to where in your repository the code is stored.</p><p><em>Note that using <code>&#x27;&lt;rootDir&gt;&#x27;</code> as a string token in any other path-based config settings to refer back to this value. So, for example, if you want your <a href="#setupfiles-array" target=""><code>setupFiles</code></a> config entry to point at the <code>env-setup.js</code> file at the root of your project, you could set its value to <code>[&#x27;&lt;rootDir&gt;/env-setup.js&#x27;]</code>.</em></p><h3><a class="anchor" name="scriptpreprocessor-string"></a><code>scriptPreprocessor</code> [string] <a class="hash-link" href="#scriptpreprocessor-string">#</a></h3><p>(default: <code>undefined</code>)</p><p>The path to a module that provides a synchronous function from pre-processing source files. For example, if you wanted to be able to use a new language feature in your modules or tests that isn&#x27;t yet supported by node (like, for example, ES6 classes), you might plug in one of many transpilers that compile ES6 to ES5 here.</p><p>Examples of such compilers include <a href="http://github.com/facebook/jstransform" target="_blank">jstransform</a>, <a href="http://github.com/benjamn/recast" target="_blank">recast</a>, <a href="http://github.com/facebook/regenerator" target="_blank">regenerator</a>, and <a href="https://github.com/google/traceur-compiler" target="_blank">traceur</a>.</p><p><em>Note: Jest&#x27;s preprocessor is only ran once per file unless the file has changed. During development of a <code>scriptPreprocessor</code> it can be useful to run Jest with <code>--no-cache</code> or to frequently <a href="/jest/docs/troubleshooting.html#caching-issues" target="">delete Jest&#x27;s cache</a>.</em></p><h3><a class="anchor" name="preprocessorignorepatterns-array-string"></a><code>preprocessorIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#preprocessorignorepatterns-array-string">#</a></h3><p>(default: <code>[&#x27;/node_modules/&#x27;]</code>)</p><p>An array of regexp pattern strings that are matched against all source file paths before preprocessing. If the test path matches any of the patterns, it will not be preprocessed.</p><p>These pattern strings match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to  include the path to your project&#x27;s root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&#x27;&lt;rootDir&gt;/bower_components/&#x27;, &#x27;&lt;rootDir&gt;/node_modules/&#x27;]</code>.</p><p><em>Note: if this option is not specified by the user and Jest detects the project as a <a href="https://github.com/facebook/react-native" target="_blank">react-native</a> project, it will ignore the default and process every file. It is common on react-native projects to ship npm modules without pre-compiling JavaScript.</em></p><h3><a class="anchor" name="setupfiles-array"></a><code>setupFiles</code> [array] <a class="hash-link" href="#setupfiles-array">#</a></h3><p>(default: <code>[]</code>)</p><p>The paths to modules that run some code to configure or set up the testing environment before each test. Since every test runs in its own environment, these scripts will be executed in the testing environment immediately before executing the test code itself.</p><p>It&#x27;s worth noting that this code will execute <em>before</em> <a href="#setuptestframeworkscriptfile-string" target=""><code>setupTestFrameworkScriptFile</code></a>.</p><h3><a class="anchor" name="setuptestframeworkscriptfile-string"></a><code>setupTestFrameworkScriptFile</code> [string] <a class="hash-link" href="#setuptestframeworkscriptfile-string">#</a></h3><p>(default: <code>undefined</code>)</p><p>The path to a module that runs some code to configure or set up the testing framework before each test. Since <a href="#setupfiles-array" target=""><code>setupFiles</code></a> executes before the test framework is installed in the environment, this script file presents you the opportunity of running some code immediately after the test framework has been installed in the environment.</p><p>For example, Jest ships with several plug-ins to <code>jasmine</code> that work by monkey-patching the jasmine API. If you wanted to add even more jasmine plugins to the mix (or if you wanted some custom, project-wide matchers for example), you could do so in this module.</p><h3><a class="anchor" name="testenvironment-string"></a><code>testEnvironment</code> [string] <a class="hash-link" href="#testenvironment-string">#</a></h3><p>(default: <code>&#x27;jsdom&#x27;</code>)</p><p>The test environment that will be used for testing. The default environment in Jest is a browser-like environment through <a href="https://github.com/tmpvar/jsdom" target="_blank">jsdom</a>. If you are building a node service, you can use the <code>node</code> option to use a node-like environment instead.</p><h3><a class="anchor" name="testpathdirs-array-string"></a><code>testPathDirs</code> [array&lt;string&gt;] <a class="hash-link" href="#testpathdirs-array-string">#</a></h3><p>(default: <code>[&#x27;&lt;rootDir&gt;&#x27;]</code>)</p><p>A list of paths to directories that Jest should use to search for tests in.</p><p>There are times where you only want Jest to search in a single sub-directory (such as cases where you have a <code>src/</code> directory in your repo), but not the rest of the repo.</p><h3><a class="anchor" name="testpathignorepatterns-array-string"></a><code>testPathIgnorePatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#testpathignorepatterns-array-string">#</a></h3><p>(default: <code>[&#x27;/node_modules/&#x27;]</code>)</p><p>An array of regexp pattern strings that are matched against all test paths before executing the test. If the test path matches any of the patterns, it will be skipped.</p><p>These pattern strings match against the full path. Use the <code>&lt;rootDir&gt;</code> string token to  include the path to your project&#x27;s root directory to prevent it from accidentally ignoring all of your files in different environments that may have different root directories. Example: <code>[&#x27;&lt;rootDir&gt;/build/&#x27;, &#x27;&lt;rootDir&gt;/node_modules/&#x27;]</code>.</p><h3><a class="anchor" name="testpathpattern-string"></a><code>testPathPattern</code> [string] <a class="hash-link" href="#testpathpattern-string">#</a></h3><p>(default: <code>/.*/</code>) - See notes below for more details on the default setting.</p><p>A regexp pattern string that is matched against all test paths before executing the test. If the test path does not match the pattern, it will be skipped.</p><p>This is useful if you need to override the default. If you are testing one file at a time the default will be set to <code>/.*/</code>, however if you pass a blob rather than a single file the default will then be the absolute path of each test file. The override may be needed on windows machines where, for example, the test full path would be <code>C:/myproject/__tests__/mystest.jsx.jest</code> and the default pattern would be set as <code>/C:\myproject\__tests__\mystest.jsx.jest/</code>.</p><h3><a class="anchor" name="testregex-string"></a><code>testRegex</code> [string] <a class="hash-link" href="#testregex-string">#</a></h3><p>(default: <code>(/__tests__/.*|\\.(test|spec))\\.js$</code>)</p><p>The pattern Jest uses to detect test files. By default it looks for <code>.js</code> files
inside of <code>__tests__</code> folders.</p><h3><a class="anchor" name="testresultsprocessor-string"></a><code>testResultsProcessor</code> [string] <a class="hash-link" href="#testresultsprocessor-string">#</a></h3><p>(default: <code>undefined</code>)</p><p>This option allows the use of a custom results processor. This processor must be a node module that exports a function expecting an object with the following structure as the first argument:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;success&quot;</span><span class="token punctuation">:</span> bool<span class="token punctuation">,</span>
  <span class="token string">&quot;startTime&quot;</span><span class="token punctuation">:</span> epoch<span class="token punctuation">,</span>
  <span class="token string">&quot;numTotalTestSuites&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numPassedTestSuites&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numFailedTestSuites&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numRuntimeErrorTestSuites&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numTotalTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numPassedTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numFailedTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;numPendingTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
  <span class="token string">&quot;testResults&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token string">&quot;numFailingTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    <span class="token string">&quot;numPassingTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    <span class="token string">&quot;numPendingTests&quot;</span><span class="token punctuation">:</span> number<span class="token punctuation">,</span>
    <span class="token string">&quot;testResults&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> string <span class="token punctuation">(</span>message <span class="token keyword">in</span> it block<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token string">&quot;status&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;failed&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;pending&quot;</span> <span class="token operator">|</span> <span class="token string">&quot;passed&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;ancestorTitles&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>string <span class="token punctuation">(</span>message <span class="token keyword">in</span> describe blocks<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;failureMessages&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;numPassingAsserts&quot;</span><span class="token punctuation">:</span> number
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&quot;perfStats&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;start&quot;</span><span class="token punctuation">:</span> epoch<span class="token punctuation">,</span>
      <span class="token string">&quot;end&quot;</span><span class="token punctuation">:</span> epoch
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;testFilePath&quot;</span><span class="token punctuation">:</span> absolute path to test file<span class="token punctuation">,</span>
    <span class="token string">&quot;coverage&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><h3><a class="anchor" name="testrunner-string"></a><code>testRunner</code> [string] <a class="hash-link" href="#testrunner-string">#</a></h3><p>(default: <code>jasmine2</code>)</p><p>This option allows use of a custom test runner. The default is jasmine2. Jest also ships with jasmine1 which can enabled by setting this option to <code>jasmine1</code>. A custom test runner can be provided by specifying a path to a test runner implementation.</p><h3><a class="anchor" name="unmockedmodulepathpatterns-array-string"></a><code>unmockedModulePathPatterns</code> [array&lt;string&gt;] <a class="hash-link" href="#unmockedmodulepathpatterns-array-string">#</a></h3><p>(default: <code>[]</code>)</p><p>An array of regexp pattern strings that are matched against all modules before the module loader will automatically return a mock for them. If a module&#x27;s path matches any of the patterns in this list, it will not be automatically mocked by the module loader.</p><p>This is useful for some commonly used &#x27;utility&#x27; modules that are almost always used as implementation details almost all the time (like underscore/lo-dash, etc). It&#x27;s generally a best practice to keep this list as small as possible and always use explicit <code>jest.mock()</code>/<code>jest.unmock()</code> calls in individual tests. Explicit per-test setup is far easier for other readers of the test to reason about the environment the test will run in.</p><p>It is possible to override this setting in individual tests by explicitly calling <code>jest.mock()</code> at the top of the test file.</p><h3><a class="anchor" name="verbose-boolean"></a><code>verbose</code> [boolean] <a class="hash-link" href="#verbose-boolean">#</a></h3><p>(default: <code>false</code>)</p><p>Indicates whether each individual test should be reported during the run. All errors will also still be shown on the bottom after execution.</p><h2><a class="anchor" name="miscellaneous"></a>Miscellaneous <a class="hash-link" href="#miscellaneous">#</a></h2><h3><a class="anchor" name="check"></a><code>check</code> <a class="hash-link" href="#check">#</a></h3><p>Jest supports property testing with the
<a href="https://github.com/leebyron/testcheck-js" target="_blank">testcheck-js</a> library. The API is
the same as that of <a href="https://github.com/leebyron/jasmine-check" target="_blank">jasmine-check</a>:</p><h3><a class="anchor" name="check-it-name-options-generators-fn"></a><code>check.it(name, [options], generators, fn)</code> <a class="hash-link" href="#check-it-name-options-generators-fn">#</a></h3><p>Creates a property test. Test cases will be created by the given <code>generators</code>
and passed as arguments to <code>fn</code>. If any test case fails, a shrunken failing
value will be given in the test output. For example:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> <span class="token punctuation">{</span> check<span class="token punctuation">,</span> gen <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;jest-check&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

check<span class="token punctuation">.</span><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&#x27;can recover encoded URIs&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>gen<span class="token punctuation">.</span>string<span class="token punctuation">]</span><span class="token punctuation">,</span>
  s <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">expect</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token function">decodeURI</span><span class="token punctuation">(</span><span class="token function">encodeURI</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>If <code>options</code> are provided, they override the corresponding command-line options.
The possible options are:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  times<span class="token punctuation">:</span> number<span class="token punctuation">;</span>   <span spellcheck="true" class="token comment">// The number of test cases to run. Default: 100.</span>
  maxSize<span class="token punctuation">:</span> number<span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// The maximum size of sized data such as numbers</span>
                   <span spellcheck="true" class="token comment">// (their magnitude) or arrays (their length). This can be</span>
                   <span spellcheck="true" class="token comment">// overridden with `gen.resize`. Default: 200.</span>
  seed<span class="token punctuation">:</span> number<span class="token punctuation">;</span>    <span spellcheck="true" class="token comment">// The random number seed. Defaults to a random value.</span>
<span class="token punctuation">}</span></pre><h3><a class="anchor" name="check-fit-name-options-generators-fn"></a><code>check.fit(name, [options], generators, fn)</code> <a class="hash-link" href="#check-fit-name-options-generators-fn">#</a></h3><p>Executes this test and skips all others. Like <code>fit</code>, but for property tests.</p><h3><a class="anchor" name="check-xit-name-options-generators-fn"></a><code>check.xit(name, [options], generators, fn)</code> <a class="hash-link" href="#check-xit-name-options-generators-fn">#</a></h3><p>Skips this test. Like <code>xit</code>, but for property tests.</p><h3><a class="anchor" name="gen"></a><code>gen</code> <a class="hash-link" href="#gen">#</a></h3><p>A library of generators for property tests. See the
<a href="https://github.com/leebyron/testcheck-js" target="_blank"><code>testcheck</code> documentation</a>.</p></div></article></div><div class="docs-prevnext"><a class="docs-next" href="troubleshooting.html#content">Next →</a></div></div></div></div><div class="footerContainer"><div class="wrapper footerWrapper"><div class="footerBlocks"><div class="footerSection fbOpenSourceFooter"><svg class="facebookOSSLogoSvg" viewBox="0 0 1133.9 1133.9" x="0px" y="0px"><g><path class="logoRing outerRing" d="M 498.3 3.7 c 153.6 88.9 307.3 177.7 461.1 266.2 c 7.6 4.4 10.3 9.1 10.3 17.8 c -0.3 179.1 -0.2 358.3 0 537.4 c 0 8.1 -2.4 12.8 -9.7 17.1 c -154.5 88.9 -308.8 178.1 -462.9 267.5 c -9 5.2 -15.5 5.3 -24.6 0.1 c -153.9 -89.2 -307.9 -178 -462.1 -266.8 C 3 838.8 0 833.9 0 825.1 c 0.3 -179.1 0.2 -358.3 0 -537.4 c 0 -8.6 2.6 -13.6 10.2 -18 C 164.4 180.9 318.4 92 472.4 3 C 477 -1.5 494.3 -0.7 498.3 3.7 Z M 48.8 555.3 c 0 79.9 0.2 159.9 -0.2 239.8 c -0.1 10 3 15.6 11.7 20.6 c 137.2 78.8 274.2 157.8 411 237.3 c 9.9 5.7 17 5.7 26.8 0.1 c 137.5 -79.8 275.2 -159.2 412.9 -238.5 c 7.4 -4.3 10.5 -8.9 10.5 -17.8 c -0.3 -160.2 -0.3 -320.5 0 -480.7 c 0 -8.8 -2.8 -13.6 -10.3 -18 C 772.1 218 633.1 137.8 494.2 57.4 c -6.5 -3.8 -11.5 -4.5 -18.5 -0.5 C 336.8 137.4 197.9 217.7 58.8 297.7 c -7.7 4.4 -10.2 9.2 -10.2 17.9 C 48.9 395.5 48.8 475.4 48.8 555.3 Z"></path><path class="logoRing middleRing" d="M 184.4 555.9 c 0 -33.3 -1 -66.7 0.3 -100 c 1.9 -48 24.1 -86 64.7 -110.9 c 54.8 -33.6 110.7 -65.5 167 -96.6 c 45.7 -25.2 92.9 -24.7 138.6 1 c 54.4 30.6 108.7 61.5 162.2 93.7 c 44 26.5 67.3 66.8 68 118.4 c 0.9 63.2 0.9 126.5 0 189.7 c -0.7 50.6 -23.4 90.7 -66.6 116.9 c -55 33.4 -110.8 65.4 -167.1 96.5 c -43.4 24 -89 24.2 -132.3 0.5 c -57.5 -31.3 -114.2 -64 -170 -98.3 c -41 -25.1 -62.9 -63.7 -64.5 -112.2 C 183.5 621.9 184.3 588.9 184.4 555.9 Z M 232.9 556.3 c 0 29.5 0.5 59.1 -0.1 88.6 c -0.8 39.2 16.9 67.1 50.2 86.2 c 51.2 29.4 102.2 59.2 153.4 88.4 c 31.4 17.9 63.6 18.3 95 0.6 c 53.7 -30.3 107.1 -61.2 160.3 -92.5 c 29.7 -17.5 45 -44.5 45.3 -78.8 c 0.6 -61.7 0.5 -123.5 0 -185.2 c -0.3 -34.4 -15.3 -61.5 -44.9 -79 C 637.7 352.6 583 320.8 527.9 290 c -27.5 -15.4 -57.2 -16.1 -84.7 -0.7 c -56.9 31.6 -113.4 64 -169.1 97.6 c -26.4 15.9 -40.7 41.3 -41.1 72.9 C 232.6 491.9 232.9 524.1 232.9 556.3 Z"></path><path class="logoRing innerRing" d="M 484.9 424.4 c 69.8 -2.8 133.2 57.8 132.6 132 C 617 630 558.5 688.7 484.9 689.1 c -75.1 0.4 -132.6 -63.6 -132.7 -132.7 C 352.1 485 413.4 421.5 484.9 424.4 Z M 401.3 556.7 c -3.4 37.2 30.5 83.6 83 84.1 c 46.6 0.4 84.8 -37.6 84.9 -84 c 0.1 -46.6 -37.2 -84.4 -84.2 -84.6 C 432.2 472.1 397.9 518.3 401.3 556.7 Z"></path></g></svg><h2>Facebook Open Source</h2></div><div class="footerSection"><a class="footerLink" href="https://code.facebook.com/projects/" target="_blank">Open Source Projects</a><a class="footerLink" href="https://github.com/facebook/" target="_blank">GitHub</a><a class="footerLink" href="https://twitter.com/fbOpenSource" target="_blank">Twitter</a></div><div class="footerSection rightAlign"><a class="footerLink" href="https://github.com/facebook/jest" target="_blank">Contribute on GitHub</a></div></div></div></div></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script></body></html>