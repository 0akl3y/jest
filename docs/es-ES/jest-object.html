<html lang="es-ES"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>The Jest Object · Jest</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="The Jest Object · Jest"/><meta property="og:type" content="website"/><meta property="og:url" content="https://facebook.github.io/jest/index.html"/><meta property="og:description" content="El objeto `jest` está en alcance automáticamente con cada archivo de prueba. Los métodos en el objeto `jest` ayudan a crear simulaciones y le deja a usted controlar el comportamiento general de Jest."/><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"/><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://facebook.github.io/blog/atom.xml" title="Jest Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://facebook.github.io/blog/feed.xml" title="Jest Blog RSS Feed"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/jest/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img class="logo" src="/jest/img/jest.svg"/><h2 class="headerTitle">Jest</h2></a><a href="/jest/es-ES/versions.html"><h3>22.4</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/es-ES/getting-started.html" target="_self">Documentación</a></li><li><a href="/jest/docs/es-ES/api.html" target="_self">API</a></li><li><a href="/jest/es-ES/help.html" target="_self">Ayuda</a></li><li><a href="/jest/blog" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/en">English</a></li><li><a href="/jest/ja">日本語</a></li><li><a href="/jest/es-ES">Español</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ro">Română</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/uk">Українська</a></li><li><a href="/jest/zh-Hans">简体中文</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/facebook/jest" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/getting-started.html">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/using-matchers.html">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/asynchronous.html">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/setup-teardown.html">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/mock-functions.html">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/jest-platform.html">Jest Platform</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/jest-community.html">Jest Community</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/more-resources.html">More Resources</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/snapshot-testing.html">Snapshot Testing</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-async.html">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/timer-mocks.html">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/manual-mocks.html">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/es6-class-mocks.html">ES6 Class Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/webpack.html">Using with webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/puppeteer.html">
Usar con puppeteer</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/mongodb.html">Utilizando con MongoDB</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/migration-guide.html">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/troubleshooting.html">Troubleshooting</a></li></ul></div><div class="navGroup navGroupActive"><h3>Framework Guides</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-react.html">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/tutorial-react-native.html">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/testing-frameworks.html">Testing Web Frameworks</a></li></ul></div><div class="navGroup navGroupActive"><h3>API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/api.html">Globals</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/expect.html">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/mock-function-api.html">Mock Functions</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/es-ES/jest-object.html">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/configuration.html">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/es-ES/cli.html">Jest CLI Options</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/jest/edit/master/docs/JestObjectAPI.md" target="_blank">Edit</a><h1>The Jest Object</h1></header><article><div><span><p>El objeto <code>jest</code> está en alcance automáticamente con cada archivo de prueba. Los métodos en el objeto <code>jest</code> ayudan a crear simulaciones y le deja a usted controlar el comportamiento general de Jest.</p>
<h2><a class="anchor" aria-hidden="true" name="metodos"></a><a href="#metodos" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Métodos</h2>
<ul>
<li><a href="#jestclearalltimers"><code>jest.clearAllTimers()</code></a></li>
<li><a href="#jestdisableautomock"><code>jest.disableAutomock()</code></a></li>
<li><a href="#jestenableautomock"><code>jest.enableAutomock()</code></a></li>
<li><a href="#jestfnimplementation"><code>jest.fn(implementation)</code></a></li>
<li><a href="#jestismockfunctionfn"><code>jest.isMockFunction(fn)</code></a></li>
<li><a href="#jestgenmockfrommodulemodulename"><code>jest.genMockFromModule(moduleName)</code></a></li>
<li><a href="#jestmockmodulename-factory-options"><code>jest.mock(moduleName, factory, options)</code></a></li>
<li><a href="#jestunmockmodulename"><code>jest.unmock(moduleName)</code></a></li>
<li><a href="#jestdomockmodulename-factory-options"><code>jest.doMock(moduleName, factory, options)</code></a></li>
<li><a href="#jestdontmockmodulename"><code>jest.dontMock(moduleName)</code></a></li>
<li><a href="#jestclearallmocks"><code>jest.clearAllMocks()</code></a></li>
<li><a href="#jestresetallmocks"><code>jest.resetAllMocks()</code></a></li>
<li><a href="#jestrestoreallmocks"><code>jest.restoreAllMocks()</code></a></li>
<li><a href="#jestresetmodules"><code>jest.resetModules()</code></a></li>
<li><a href="#jestrunallticks"><code>jest.runAllTicks()</code></a></li>
<li><a href="#jestrunalltimers"><code>jest.runAllTimers()</code></a></li>
<li><a href="#jestadvancetimersbytimemstorun"><code>jest.advanceTimersByTime(msToRun)</code></a></li>
<li><a href="#jestrunonlypendingtimers"><code>jest.runOnlyPendingTimers()</code></a></li>
<li><a href="#jestsetmockmodulename-moduleexports"><code>jest.setMock(moduleName, moduleExports)</code></a></li>
<li><a href="#jestsettimeouttimeout"><code>jest.setTimeout(timeout)</code></a></li>
<li><a href="#jestusefaketimers"><code>jest.useFakeTimers()</code></a></li>
<li><a href="#jestuserealtimers"><code>jest.useRealTimers()</code></a></li>
<li><a href="#jestspyonobject-methodname"><code>jest.spyOn(object, methodName)</code></a></li>
<li><a href="#jestspyonobject-methodname-accesstype"><code>jest.spyOn(object, methodName, accessType?)</code></a></li>
</ul>
<hr>
<h2><a class="anchor" aria-hidden="true" name="referencia"></a><a href="#referencia" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Referencia</h2>
<h3><a class="anchor" aria-hidden="true" name="jestclearalltimers"></a><a href="#jestclearalltimers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.clearAllTimers()</code></h3>
<p>Remueve cualquier temporizador pendiente en el sistema de temporizadores.</p>
<p>Esto significa que si algún timer ha sido programado (pero aún no ha ejecutado), estos serán limpiados y no volverán a tener la oportunidad de ejecutar en el futuro.</p>
<h3><a class="anchor" aria-hidden="true" name="jestdisableautomock"></a><a href="#jestdisableautomock" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.disableAutomock()</code></h3>
<p>Deshabilita la simulación mock automática en el cargador de módulos.</p>
<blockquote>
<p>See <code>automock</code> section of <a href="/jest/docs/es-ES/configuration.html#automock-boolean">configuration</a> for more information</p>
</blockquote>
<p>Luego de llamar a este método, todos los <code>require()</code>s regresarán la versión real de cada módulo (en lugar de una versión simulada).</p>
<p>Jest configuration:</p>
<pre><code class="hljs css json">"automock": true
</code></pre>
<p>Ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">authorize</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'token'</span>;
  },
};
</code></pre>
<pre><code class="hljs css js"><span class="hljs-comment">// __tests__/disableAutomocking.js</span>
<span class="hljs-keyword">import</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;

jest.disableAutomock();

test(<span class="hljs-string">'original implementation'</span>, () =&gt; {
  <span class="hljs-comment">// now we have the original implementation,</span>
  <span class="hljs-comment">// even if we set the automocking in a jest configuration</span>
  expect(utils.authorize()).toBe(<span class="hljs-string">'token'</span>);
});
</code></pre>
<p>Esto suele ser útil cuando se encuentre en una circunstancia donde el número de dependencias que quiera simular sea mucho menor al número de dependencias que no quiera simular. Por ejemplo, si está escribiendo un módulo de pruebas que use un gran número de dependencias que puedan ser clasificadas razonablemente como &quot;detalles de implementación&quot; del módulo, lo más probable es que no quiera simularlas.</p>
<p>Las dependencias que sirven como ejemplo de las que podrían ser consideradas como &quot;detalles de implementación&quot;, son aquellas que van desde las construcciones del lenguaje (por ejemplo, métodos Array.prototype), a métodos de utilidad muy comunes (por ejemplo, undersercore/lo-dash, utilidades de arreglo, etc) y librearías enteras como React.js.</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<p><em>Nota: este método se llamaba anteriormente <code>autoMockOff</code>. Cuando utilice <code>babel-jest</code>, las llamadas a <code>disableAutomock</code> serán elevadas de forma automática al principio del bloque de códigos. Si se desea evitar este comportamiento, se debe usar <code>autoMockOff</code>.</em></p>
<h3><a class="anchor" aria-hidden="true" name="jestenableautomock"></a><a href="#jestenableautomock" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.enableAutomock()</code></h3>
<p>Habilita la simulación mock automática en el cargador de módulos.</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<blockquote>
<p>See <code>automock</code> section of <a href="/jest/docs/es-ES/configuration.html#automock-boolean">configuration</a> for more information</p>
</blockquote>
<p>Ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">authorize</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'token'</span>;
  },
  <span class="hljs-attr">isAuthorized</span>: <span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> secret === <span class="hljs-string">'wizard'</span>,
};
</code></pre>
<pre><code class="hljs css js"><span class="hljs-comment">// __tests__/disableAutomocking.js</span>
jest.enableAutomock();

<span class="hljs-keyword">import</span> utils <span class="hljs-keyword">from</span> <span class="hljs-string">'../utils'</span>;

test(<span class="hljs-string">'original implementation'</span>, () =&gt; {
  <span class="hljs-comment">// now we have the mocked implementation,</span>
  expect(utils.authorize._isMockFunction).toBeTruthy();
  expect(utils.isAuthorized._isMockFunction).toBeTruthy();
});
</code></pre>
<p><em>Nota: este método se llamaba anteriormente <code>autoMockOn</code>. Cuando utilice <code>babel-jest</code>, las llamadas a <code>enableAutomock</code> serán elevadas de forma automática al principio del bloque de códigos. Si se desea evitar este comportamiento, se debe usar <code>autoMockOn</code>.</em></p>
<h3><a class="anchor" aria-hidden="true" name="jestfnimplementation"></a><a href="#jestfnimplementation" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.fn(implementation)</code></h3>
<p>Arroja una <a href="/jest/docs/es-ES/mock-function-api.html">función mock</a> nueva y sin utilizar. Opcionalmente, toma un implementación de simulación.</p>
<pre><code class="hljs css js"><span class="hljs-keyword">const</span> mockFn = jest.fn();
mockFn();
expect(mockFn).toHaveBeenCalled();

<span class="hljs-comment">// With a mock implementation:</span>
<span class="hljs-keyword">const</span> returnsTrue = jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-literal">true</span>);
<span class="hljs-built_in">console</span>.log(returnsTrue()); <span class="hljs-comment">// true;</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="jestismockfunctionfn"></a><a href="#jestismockfunctionfn" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.isMockFunction(fn)</code></h3>
<p>Determina si la función dada es una función simulada.</p>
<h3><a class="anchor" aria-hidden="true" name="jestgenmockfrommodulemodulename"></a><a href="#jestgenmockfrommodulemodulename" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.genMockFromModule(moduleName)</code></h3>
<p>Dado el nombre de un módulo, utilice el sistema de simulación automática para generar una versión simulada de un módulo para usted.</p>
<p>Esto es útil cuando quiera crear una <a href="/jest/docs/es-ES/manual-mocks.html">simulación manual</a> que extienda el comportamiento automático de la simulación.</p>
<p>Ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// utils.js</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
  <span class="hljs-attr">authorize</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">'token'</span>;
  },
  <span class="hljs-attr">isAuthorized</span>: <span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> secret === <span class="hljs-string">'wizard'</span>,
};
</code></pre>
<pre><code class="hljs css js"><span class="hljs-comment">// __tests__/genMockFromModule.test.js</span>
<span class="hljs-keyword">const</span> utils = jest.genMockFromModule(<span class="hljs-string">'../utils'</span>).default;
utils.isAuthorized = jest.fn(<span class="hljs-function"><span class="hljs-params">secret</span> =&gt;</span> secret === <span class="hljs-string">'not wizard'</span>);

test(<span class="hljs-string">'implementation created by jest.genMockFromModule'</span>, () =&gt; {
  expect(utils.authorize.mock).toBeTruthy();
  expect(utils.isAuthorized(<span class="hljs-string">'not wizard'</span>)).toEqual(<span class="hljs-literal">true</span>);
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="jestmockmodulename-factory-options"></a><a href="#jestmockmodulename-factory-options" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.mock(moduleName, factory, options)</code></h3>
<p>Simula a un módulo con una versión auto-mocked cuando se le requiera. <code>factory</code> y <code>options</code> son opcionales. Por ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-comment">// banana.js</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-string">'banana'</span>;

<span class="hljs-comment">// __tests__/test.js</span>
jest.mock(<span class="hljs-string">'../banana'</span>);

<span class="hljs-keyword">const</span> banana = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../banana'</span>); <span class="hljs-comment">// banana will be explicitly mocked.</span>

banana(); <span class="hljs-comment">// will return 'undefined' because the function is auto-mocked.</span>
</code></pre>
<p>El segundo argumento puede ser usado para especificar una fabrica de módulos explicitos que está siendo ejecutada en lugar de utilizar la función de simulación automática de Jest:</p>
<pre><code class="hljs css js">jest.mock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
  <span class="hljs-keyword">return</span> jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">42</span>);
});

<span class="hljs-comment">// This runs the function specified as second argument to `jest.mock`.</span>
<span class="hljs-keyword">const</span> moduleName = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../moduleName'</span>);
moduleName(); <span class="hljs-comment">// Will return '42';</span>
</code></pre>
<p>El tercer argumento puede ser utilizado para crear simulaciones virtuales – simulaciones de módulos que no existen en ninguna otra parte en el sistema:</p>
<pre><code class="hljs css js">jest.mock(
  <span class="hljs-string">'../moduleName'</span>,
  () =&gt; {
    <span class="hljs-comment">/*
   * Custom implementation of a module that doesn't exist in JS,
   * like a generated module or a native module in react-native.
   */</span>
  },
  {<span class="hljs-attr">virtual</span>: <span class="hljs-literal">true</span>},
);
</code></pre>
<p><em>Advertencia: importar un módulo en un archivo de configuración (como se especifica por <code>setupTestFrameworkScriptFile</code>) va a prevenir la simulación para el módulo en cuestión, así como para todos los módulos que importe.</em></p>
<p>Los módulos que son simulados con <code>jest.mock</code> son sólo simulados para el archivo que llame a <code>jest.mock</code>. Another file that imports the module will get the original implementation even if it runs after the test file that mocks the module.</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestunmockmodulename"></a><a href="#jestunmockmodulename" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.unmock(moduleName)</code></h3>
<p>Esto indica que el sistema de módulos no debería arrojar una versión simulada del módulo especifico de <code>require()</code> (por ejemplo, que siempre debería arrojar el módulo real).</p>
<p>El uso más común de este API es para especificar al módulo unos intentos de prueba para ser probados (y por esto no los quiere simulados automáticamente).</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestdomockmodulename-factory-options"></a><a href="#jestdomockmodulename-factory-options" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.doMock(moduleName, factory, options)</code></h3>
<p>Cuando utilice <code>babel-jest</code>, las llamadas a <code>mock</code> serán elevadas de forma automática al principio del bloque de códigos. Utilice este método si desea evadir de manera explícita este comportamiento.</p>
<p>Un ejemplo de cuando esto es útil es cuando quiere simular un módulo de manera diferente dentro del mismo archivo:</p>
<pre><code class="hljs css js">beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  jest.resetModules();
});

test(<span class="hljs-string">'moduleName 1'</span>, () =&gt; {
  jest.doMock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
    <span class="hljs-keyword">return</span> jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">1</span>);
  });
  <span class="hljs-keyword">const</span> moduleName = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../moduleName'</span>);
  expect(moduleName()).toEqual(<span class="hljs-number">1</span>);
});

test(<span class="hljs-string">'moduleName 2'</span>, () =&gt; {
  jest.doMock(<span class="hljs-string">'../moduleName'</span>, () =&gt; {
    <span class="hljs-keyword">return</span> jest.fn(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-number">2</span>);
  });
  <span class="hljs-keyword">const</span> moduleName = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../moduleName'</span>);
  expect(moduleName()).toEqual(<span class="hljs-number">2</span>);
});
</code></pre>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestdontmockmodulename"></a><a href="#jestdontmockmodulename" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.dontMock(moduleName)</code></h3>
<p>Cuando utilice <code>babel-jest</code>, las llamadas a <code>unmock</code> serán elevadas de forma automática al principio del bloque de códigos. Utilice este método si desea evadir de manera explícita este comportamiento.</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestclearallmocks"></a><a href="#jestclearallmocks" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.clearAllMocks()</code></h3>
<p>Borra las propiedades <code>mock.calls</code> y <code>mock.instances</code> de todas las simulaciones. Es el equivalente a llamar a <code>.mockClear()</code> en todas las funciones simuladas.</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestresetallmocks"></a><a href="#jestresetallmocks" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.resetAllMocks()</code></h3>
<p>Restablece el estado de todas las simulaciones. Es el equivalente a llamar a <code>.mockReset()</code> en todas las funciones simuladas.</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestrestoreallmocks"></a><a href="#jestrestoreallmocks" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.restoreAllMocks()</code></h3>
<p>Restaura todos los objetos duplicados a su valor original. Es el equivalente a llamar <code>.mockRestore</code> en todas las funciones simuladas. Tenga en cuenta que <code>jest.restoreAllMocks()</code> sólo funciona cuando la simulación fue creada con <code>jest.spyOn</code>; otras simulaciones le requerirán restauración manual.</p>
<h3><a class="anchor" aria-hidden="true" name="jestresetmodules"></a><a href="#jestresetmodules" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.resetModules()</code></h3>
<p>Restablece el módulo de registro - el caché de todos los módulos requeridos. Esto es útil para aislar los módulos donde el estado local pueda tener conflictos entre las pruebas.</p>
<p>Ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">const</span> sum1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../sum'</span>);
jest.resetModules();
<span class="hljs-keyword">const</span> sum2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../sum'</span>);
sum1 === sum2;
<span class="hljs-comment">// &gt; false (Both sum modules are separate "instances" of the sum module.)</span>
</code></pre>
<p>Ejemplo en una prueba:</p>
<pre><code class="hljs css js">beforeEach(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  jest.resetModules();
});

test(<span class="hljs-string">'works'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> sum = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../sum'</span>);
});

test(<span class="hljs-string">'works too'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> sum = <span class="hljs-built_in">require</span>(<span class="hljs-string">'../sum'</span>);
  <span class="hljs-comment">// sum is a different copy of the sum module from the previous test.</span>
});
</code></pre>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestrunallticks"></a><a href="#jestrunallticks" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.runAllTicks()</code></h3>
<p>Agota la fila <strong>micro</strong>-tareas (usualmente interconectada en nódo a través de <code>process.nextTick</code>).</p>
<p>Cuando este API sea llamado, todas las micro-tareas pendientes que hayan sido puestas en cola a través de <code>process.nextTick</code> serán ejecutadas. Adicionalmente, si estas mismas micro-tareas programan nuevas micro-tareas, estas serán agotadas continuamente hasta que ya no queden más micro-tareas en la cola.</p>
<h3><a class="anchor" aria-hidden="true" name="jestrunalltimers"></a><a href="#jestrunalltimers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.runAllTimers()</code></h3>
<p>Agota la cola de <strong>macro</strong>-tareas (por ejemplo, todas las tareas puestas en cola por <code>setTimeout()</code>, <code>setInterval()</code> y <code>setImmediate()</code>).</p>
<p>Cuando esta API sea llamada, todas las &quot;macro-tareas&quot; pendientes que hayan sido puestas en cola a través de <code>setTimeout()</code> o <code>setInterval()</code> serán ejecutadas. Adicionalmente, si estas mismas macro-tareas programan nuevas macro-tareas, estas serán agotadas continuamente hasta que ya no queden más macro-tareas en la cola.</p>
<p>Esto suele ser usado para ejecutar setTimeouts sincronizadamente durante una prueba, para de esta manera asertar, sincronizadamente, algún comportamiento que podría ocurrir solamente luego de que los callbacks <code>setTimeout()</code> o <code>setInterval()</code> se ejecutaron. Consulte el documento <a href="/jest/docs/es-ES/timer-mocks.html">Timer mocks</a> para más información.</p>
<h3><a class="anchor" aria-hidden="true" name="jestrunallimmediates"></a><a href="#jestrunallimmediates" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.runAllImmediates()</code></h3>
<p>Agota todas las tareas en la cola de <code>setImmediate()</code>.</p>
<h3><a class="anchor" aria-hidden="true" name="jestadvancetimersbytimemstorun"></a><a href="#jestadvancetimersbytimemstorun" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.advanceTimersByTime(msToRun)</code></h3>
<h5><a class="anchor" aria-hidden="true" name="cambiado-de-nombre-en-jest-2200"></a><a href="#cambiado-de-nombre-en-jest-2200" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>cambiado de nombre en Jest <strong>22.0.0+</strong></h5>
<p>También conocido bajo el alias: <code>.runTimersToTime()</code></p>
<p>Ejecuta unicamente la cola de macro tareas (por ejemplo, todas las tareas puestas en cola por <code>setTimeout()</code>, o <code>setInterval()</code> y <code>setImmediate()</code>).</p>
<p>Cuando este API es llamado, todos los timers son avanzados por milisegundos <code>msToRun</code>. Todas las &quot;macro-tareas&quot; pendientes que hayan sido puestas en cola a través de <code>setTimeout()</code> o <code>setInterval()</code>, y podrían ser ejecutadas dentro de este marco temporal, serán ejecutadas. Adicionalmente, si estas macro-tareas programan nuevas macro-tareas que podrían ser ejecutadas dentro de este espacio de tiempo, estas serán ejecutadas hasta que no hayan más macro-tareas en la cola, esto debería ser ejecutado en milisegundos <code>msToRun</code>.</p>
<h3><a class="anchor" aria-hidden="true" name="jestrunonlypendingtimers"></a><a href="#jestrunonlypendingtimers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.runOnlyPendingTimers()</code></h3>
<p>Ejecuta solamente las macro-tareas pendientes en el momento (por ejemplo, sólo las tareas que hayan sido puestas en cola por <code>setTimeout()</code> o <code>setInterval()</code> hasta entonces). Si cualquiera de las macro-tareas pendientes programan nuevas macro-tareas, estas nuevas tareas no serán ejecutadas por esta llamada.</p>
<p>Esto es útil en circunstancias dónde el módulo que está siendo probado programa un <code>setTimeout()</code> cuyo callback programa otro <code>setTimeout()</code> recursivamente (esto significa que la programación nunca termina). En estos casos, es útil poder ejecutar más adelante en el tiempo usando un simple paso a la vez.</p>
<h3><a class="anchor" aria-hidden="true" name="jestsetmockmodulename-moduleexports"></a><a href="#jestsetmockmodulename-moduleexports" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.setMock(moduleName, moduleExports)</code></h3>
<p>Provee explicitamente el objeto de simulación que el sistema de módulos debería arrojar para el módulo especificado.</p>
<p>En ocasiones hay oportunidades donde la simulación automáticamente generada que le proporcionaría normalmente el sistema de módulos, no es lo suficientemente adecuado para sus necesidades de prueba. En estas circunstancias normalmente debería escribir una <a href="/jest/docs/es-ES/manual-mocks.html">simulación manual</a> que sea más adecuada para el módulo en cuestión. Sin embargo, en ocasiones poco comunes, incluso la simulación manual no es suficiente para sus propositos y necesitará construir la simulación usted mismo dentro de su prueba.</p>
<p>In these rare scenarios you can use this API to manually fill the slot in the module system's mock-module registry.</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<p><em>Note It is recommended to use <a href="#jestmockmodulename-factory-options"><code>jest.mock()</code></a> instead. The <code>jest.mock</code> API's second argument is a module factory instead of the expected exported module object.</em></p>
<h3><a class="anchor" aria-hidden="true" name="jestsettimeouttimeout"></a><a href="#jestsettimeouttimeout" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.setTimeout(timeout)</code></h3>
<p>Set the default timeout interval for tests and before/after hooks in milliseconds.</p>
<p><em>Note: The default timeout interval is 5 seconds if this method is not called.</em></p>
<p>Ejemplo:</p>
<pre><code class="hljs css js">jest.setTimeout(<span class="hljs-number">1000</span>); <span class="hljs-comment">// 1 second</span>
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="jestusefaketimers"></a><a href="#jestusefaketimers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.useFakeTimers()</code></h3>
<p>Instructs Jest to use fake versions of the standard timer functions (<code>setTimeout</code>, <code>setInterval</code>, <code>clearTimeout</code>, <code>clearInterval</code>, <code>nextTick</code>, <code>setImmediate</code> and <code>clearImmediate</code>).</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestuserealtimers"></a><a href="#jestuserealtimers" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.useRealTimers()</code></h3>
<p>Indica a Jest que se deben ocupar las versiones reales de las funciones estándares de temporizadores.</p>
<p>Regresa el objeto <code>jest</code> para poder ser usado llamadas consecutivas.</p>
<h3><a class="anchor" aria-hidden="true" name="jestspyonobject-methodname"></a><a href="#jestspyonobject-methodname" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.spyOn(object, methodName)</code></h3>
<p>Creates a mock function similar to <code>jest.fn</code> but also tracks calls to <code>object[methodName]</code>. Returns a Jest mock function.</p>
<p><em>Nota: Por defecto, <code>jest.spyOn</code> también llama al método <strong>spied</strong>. This is different behavior from most other test libraries. If you want to overwrite the original function, you can use <code>jest.spyOn(object, methodName).mockImplementation(() =&gt; customImplementation)</code> or <code>object[methodName] = jest.fn(() =&gt; customImplementation);</code></em></p>
<p>Ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">const</span> video = {
  play() {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  },
};

<span class="hljs-built_in">module</span>.exports = video;
</code></pre>
<p>Prueba de ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">const</span> video = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./video'</span>);

test(<span class="hljs-string">'plays video'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> spy = jest.spyOn(video, <span class="hljs-string">'play'</span>);
  <span class="hljs-keyword">const</span> isPlaying = video.play();

  expect(spy).toHaveBeenCalled();
  expect(isPlaying).toBe(<span class="hljs-literal">true</span>);

  spy.mockReset();
  spy.mockRestore();
});
</code></pre>
<h3><a class="anchor" aria-hidden="true" name="jestspyonobject-methodname-accesstype"></a><a href="#jestspyonobject-methodname-accesstype" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>jest.spyOn(object, methodName, accessType?)</code></h3>
<p>Since Jest 22.1.0+, the <code>jest.spyOn</code> method takes an optional third argument of <code>accessType</code> that can be either <code>'get'</code> or <code>'set'</code>, which proves to be useful when you want to spy on a getter or a setter, respectively.</p>
<p>Ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">const</span> video = {
  <span class="hljs-comment">// it's a getter!</span>
  get play() {
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  },
};

<span class="hljs-built_in">module</span>.exports = video;

<span class="hljs-keyword">const</span> audio = {
  <span class="hljs-attr">_volume</span>: <span class="hljs-literal">false</span>,
  <span class="hljs-comment">// it's a setter!</span>
  set volume(value) {
    <span class="hljs-keyword">this</span>._volume = value;
  },
  get volume() {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._volume;
  },
};

<span class="hljs-built_in">module</span>.exports = video;
</code></pre>
<p>Prueba de ejemplo:</p>
<pre><code class="hljs css js"><span class="hljs-keyword">const</span> video = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./video'</span>);

test(<span class="hljs-string">'plays video'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> spy = jest.spyOn(video, <span class="hljs-string">'play'</span>, <span class="hljs-string">'get'</span>); <span class="hljs-comment">// we pass 'get'</span>
  <span class="hljs-keyword">const</span> isPlaying = video.play;

  expect(spy).toHaveBeenCalled();
  expect(isPlaying).toBe(<span class="hljs-literal">true</span>);

  spy.mockReset();
  spy.mockRestore();
});

test(<span class="hljs-string">'plays audio'</span>, () =&gt; {
  <span class="hljs-keyword">const</span> spy = jest.spyOn(video, <span class="hljs-string">'play'</span>, <span class="hljs-string">'set'</span>); <span class="hljs-comment">// we pass 'set'</span>
  video.volume = <span class="hljs-number">100</span>;

  expect(spy).toHaveBeenCalled();
  expect(video.volume).toBe(<span class="hljs-number">100</span>);

  spy.mockReset();
  spy.mockRestore();
});
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="mock-function-api.html">← Mock Functions</a><a class="docs-next button" href="configuration.html">Configuring Jest →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest/" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"/></a><div><h5>Docs</h5><a href="/jest/docs/es-ES/getting-started.html">Getting Started</a><a href="/jest/docs/es-ES/snapshot-testing.html">Guides</a><a href="/jest/docs/es-ES/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/es-ES/users.html">User Showcase</a><a href="https://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discord.gg/MWRhKCj">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2018 Facebook Inc.</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

              ga('create', 'UA-44373548-17', 'auto');
              ga('send', 'pageview');
            </script><script>
              var search = docsearch({
                apiKey: '833906d7486e4059359fa58823c4ef56',
                indexName: 'jest',
                inputSelector: '#search_input_react'
              });
            </script></body></html>