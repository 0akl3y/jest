<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Вирішення проблем · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="Вирішення проблем · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="Ох, щось пішло не так? Використовуйте цю інструкцію, щоб вирішити проблеми з Jest."><link rel="apple-touch-icon" sizes="180x180" href="/jest/img/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/jest/img/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/jest/img/favicon/favicon-16x16.png"><link rel="manifest" href="/jest/img/favicon/manifest.json"><link rel="mask-icon" href="/jest/img/favicon/safari-pinned-tab.svg"><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"><meta name="msapplication-config" content="/jest/img/favicon/browserconfig.xml"><meta name="theme-color" content="#99424f"><link rel="alternate" type="application/atom+xml" href="/jest/blog/atom.xml" title="Jest Blog ATOM Feed"><link rel="alternate" type="application/rss+xml" href="/jest/blog/feed.xml" title="Jest Blog RSS Feed"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css?v=2"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/uk/getting-started.html" class="active">Документація</a></li><li><a href="/jest/docs/uk/api.html" class="">API</a></li><li><a href="/jest/uk/help.html" class="">Допомога</a></li><li><a href="/jest/blog/" class="">Блог</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg">Українська</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/ja">日本語</a></li><li><a href="/jest/en">English</a></li><li><a href="/jest/es-ES">Español</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/zh-Hans">简体中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Guides</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Вступ</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/getting-started.html#content">Початок роботи</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/using-matchers.html#content">Використання матчерів</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/asynchronous.html#content">Тестування асинхронного коду</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/setup-teardown.html#content">Підготовка та очистка</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/mock-functions.html#content">Функції-імітації</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/more-resources.html#content">Більше ресурсів</a></li></ul></div><div class="navGroup navGroupActive"><h3>Довідник API</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/api.html#content">Глобальні методи</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/expect.html#content">Очікування</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/mock-function-api.html#content">Функції-імітації</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/jest-object.html#content">Об’єкт Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/configuration.html#content">Налаштування Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/cli.html#content">Опції командного рядка</a></li></ul></div><div class="navGroup navGroupActive"><h3>Посібники</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/uk/snapshot-testing.html#content">Тестування знімками</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-react.html#content">Тестування React додатків</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-react-native.html#content">Тесування React Native додатків</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/tutorial-async.html#content">Асинхронний приклад</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/timer-mocks.html#content">Імітації таймерів</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/manual-mocks.html#content">Ручні імітації</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/webpack.html#content">Використання з Webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/migration-guide.html#content">Міграція на Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/uk/testing-frameworks.html#content">Тестування інших фреймворків</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/uk/troubleshooting.html#content">Вирішення проблем</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/uk" target="_blank">Translate this Doc</a><h1>Вирішення проблем</h1></header><article><div><p>Ох, щось пішло не так? Використовуйте цю інструкцію, щоб вирішити проблеми з Jest.</p><h3><a class="anchor" name=""></a>Тести падають і ви не знаєте чому <a class="hash-link" href="#">#</a></h3><p>Спробуйте використати дебаг підтримку вбудовану в Node.</p><p>Розмістіть <code>debugger;</code> виклик в будь-якому вашому тестів, і тоді в директорії вашого проекту запустіть:</p><pre class="prism language-javascript">
node <span class="token operator">--</span>inspect<span class="token operator">-</span>brk node_modules<span class="token operator">/</span><span class="token punctuation">.</span>bin<span class="token operator">/</span>jest <span class="token operator">--</span>runInBand <span class="token punctuation">[</span>any other arguments here<span class="token punctuation">]</span>
or on Windows
node <span class="token operator">--</span>inspect<span class="token operator">-</span>brk <span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>jest<span class="token operator">/</span>bin<span class="token operator">/</span>jest<span class="token punctuation">.</span>js <span class="token operator">--</span>runInBand <span class="token punctuation">[</span>any other arguments here<span class="token punctuation">]</span></pre><p>Це запустить Jest в Node процесі, для якого зовнішній дебагер може підключитись. Зауважте, що процес зупиниться доки дебагер підключиться до нього.</p><p>For example, to connect the <a href="https://github.com/node-inspector/node-inspector" target="_blank">Node Inspector</a> debugger to the paused process, you would first install it (if you don&#x27;t have it installed already):</p><pre class="prism language-javascript">
npm install <span class="token operator">--</span>global node<span class="token operator">-</span>inspector</pre><p>Потім просто запустіть:</p><pre class="prism language-javascript">
node<span class="token operator">-</span>inspector</pre><p>This will output a link that you can open in Chrome. After opening that link, the Chrome Developer Tools will be displayed, and a breakpoint will be set at the first line of the Jest CLI script (this is done simply to give you time to open the developer tools and to prevent Jest from executing before you have time to do so). Click the button that looks like a &quot;play&quot; button in the upper right hand side of the screen to continue execution. When Jest executes the test that contains the <code>debugger</code> statement, execution will pause and you can examine the current scope and call stack.</p><blockquote><p>Note: the <code>--runInBand</code> cli option makes sure Jest runs test in the same process rather than spawning processes for individual tests. Normally Jest parallelizes test runs across processes but it is hard to debug many processes at the same time.</p></blockquote><h3><a class="anchor" name="debugging-in-vs-code"></a>Debugging in VS Code <a class="hash-link" href="#debugging-in-vs-code">#</a></h3><p>There are multiple ways to debug Jest tests with <a href="https://code.visualstudio.com" target="_blank">Visual Studio Code&#x27;s</a> built in <a href="https://code.visualstudio.com/docs/nodejs/nodejs-debugging" target="_blank">debugger</a>.</p><p>To attach the built-in debugger, run your tests as aforementioned:</p><pre class="prism language-javascript">
node <span class="token operator">--</span>inspect<span class="token operator">-</span>brk node_modules<span class="token operator">/</span><span class="token punctuation">.</span>bin<span class="token operator">/</span>jest <span class="token operator">--</span>runInBand <span class="token punctuation">[</span>any other arguments here<span class="token punctuation">]</span>
or on Windows
node <span class="token operator">--</span>inspect<span class="token operator">-</span>brk <span class="token punctuation">.</span><span class="token operator">/</span>node_modules<span class="token operator">/</span>jest<span class="token operator">/</span>bin<span class="token operator">/</span>jest<span class="token punctuation">.</span>js <span class="token operator">--</span>runInBand <span class="token punctuation">[</span>any other arguments here<span class="token punctuation">]</span></pre><p>Then attach VS Code&#x27;s debugger using the following <code>launch.json</code> config:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;version&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;0.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;configurations&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;request&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;attach&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Attach&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;port&quot;</span><span class="token punctuation">:</span> <span class="token number">9229</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>To automatically launch and attach to a process running your tests, use the following configuration:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;version&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;0.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;configurations&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Debug Jest Tests&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;request&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;runtimeArgs&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;--inspect-brk&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;${workspaceRoot}/node_modules/.bin/jest&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;--runInBand&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;console&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;integratedTerminal&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;internalConsoleOptions&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;neverOpen&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>If you are using Facebook&#x27;s <a href="https://github.com/facebookincubator/create-react-app" target="_blank"><code>create-react-app</code></a>, you can debug your Jest tests with the following configuration:</p><pre class="prism language-javascript">
<span class="token punctuation">{</span>
  <span class="token string">&quot;version&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;0.2.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;configurations&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string">&quot;name&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Debug CRA Tests&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;type&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;request&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;launch&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;runtimeExecutable&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;${workspaceRoot}/node_modules/.bin/react-scripts&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;runtimeArgs&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;--inspect-brk&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;test&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;args&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;--runInBand&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;--no-cache&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;--env=jsdom&quot;</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">&quot;cwd&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;${workspaceRoot}&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;protocol&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;inspector&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;console&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;integratedTerminal&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;internalConsoleOptions&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;neverOpen&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></pre><p>More information on Node debugging can be found <a href="https://nodejs.org/api/debugger.html" target="_blank">here</a>.</p><h3><a class="anchor" name="debugging-in-webstorm"></a>Debugging in WebStorm <a class="hash-link" href="#debugging-in-webstorm">#</a></h3><p>The easiest way to debug Jest tests in <a href="https://www.jetbrains.com/webstorm/" target="_blank">WebStorm</a> is using <code>Jest run/debug configuration</code>. It will launch tests and automatically attach debugger.</p><p>In the WebStorm menu <code>Run</code> select <code>Edit Configurations...</code>. Then click <code>+</code> and select <code>Jest</code>. Optionally specify the Jest configuration file, additional options, and environment variables. Save the configuration, put the breakpoints in the code, then click the green debug icon to start debugging.</p><p>If you are using Facebook&#x27;s <a href="https://github.com/facebookincubator/create-react-app" target="_blank"><code>create-react-app</code></a>, in the Jest run/debug configuration specify the path to the <code>react-scripts</code> package in the Jest package field and add <code>--env=jsdom</code> to the Jest options field.</p><h3><a class="anchor" name=""></a>Проблеми з кешуванням <a class="hash-link" href="#">#</a></h3><p>The transform script was changed or babel was updated and the changes aren&#x27;t being recognized by Jest?</p><p>Retry with <a href="/jest/docs/cli.html#cache" target=""><code>--no-cache</code></a>. Jest caches transformed module files to speed up test execution. If you are using your own custom transformer, consider adding a <code>getCacheKey</code> function to it: <a href="https://github.com/facebook/relay/blob/58cf36c73769690f0bbf90562707eadb062b029d/scripts/jest/preprocessor.js#L56-L61" target="_blank">getCacheKey in Relay</a>.</p><h3><a class="anchor" name="unresolved-promises"></a>Unresolved Promises <a class="hash-link" href="#unresolved-promises">#</a></h3><p>If a promise doesn&#x27;t resolve at all, this error might be thrown:</p><pre class="prism language-javascript">
<span class="token operator">-</span> Error<span class="token punctuation">:</span> Timeout <span class="token operator">-</span> Async callback was not invoked within timeout specified by jasmine<span class="token punctuation">.</span>DEFAULT_TIMEOUT_INTERVAL<span class="token punctuation">.</span>`</pre><p>Most commonly this is being caused by conflicting Promise implementations. Consider replacing the global promise implementation with your own, for example <code>global.Promise = require.requireActual(&#x27;promise&#x27;);</code> and/or consolidate the used Promise libraries to a single one.</p><p>If your test is long running, you may want to consider to increase the timeout by calling <code>jest.setTimeout</code></p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// 10 second timeout</span></pre><h3><a class="anchor" name="watchman-issues"></a>Watchman Issues <a class="hash-link" href="#watchman-issues">#</a></h3><p>Try running Jest with <a href="/jest/docs/cli.html#watchman" target=""><code>--no-watchman</code></a> or set the <code>watchman</code> configuration option to <code>false</code>.</p><p>Також див. <a href="https://facebook.github.io/watchman/docs/troubleshooting.html" target="_blank">виправлення неполадок watchman</a>.</p><h3><a class="anchor" name="tests-are-extremely-slow-on-docker-and-or-continuous-integration-ci-server"></a>Tests are Extremely Slow on Docker and/or Continuous Integration (CI) server. <a class="hash-link" href="#tests-are-extremely-slow-on-docker-and-or-continuous-integration-ci-server">#</a></h3><p>While Jest is most of the time extremely fast on modern multi-core computers with fast SSDs, it may be slow on certain setups as our users <a href="https://github.com/facebook/jest/issues/1395" target="_blank">have</a> <a href="https://github.com/facebook/jest/issues/1524#issuecomment-260246008" target="_blank">discovered</a>.</p><p>Based on the <a href="https://github.com/facebook/jest/issues/1524#issuecomment-262366820" target="_blank">findings</a>, one way to mitigate this issue and improve the speed by up to 50% is to run tests sequentially.</p><p>In order to do this you can run tests in the same thread using <a href="/jest/docs/cli.html#runinband" target=""><code>--runInBand</code></a>:</p><pre class="prism language-javascript">
# Using Jest CLI
jest <span class="token operator">--</span>runInBand

# Using npm test <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span> <span class="token keyword">with</span> create<span class="token operator">-</span>react<span class="token operator">-</span>app<span class="token punctuation">)</span>
npm test <span class="token operator">--</span> <span class="token operator">--</span>runInBand</pre><p>Another alternative to expediting test execution time on Continuous Integration Servers such as Travis-CI is to set the max worker pool to ~<em>4</em>. Specifically on Travis-CI, this can reduce test execution time in half. Note: The Travis CI <em>free</em> plan available for open source projects only includes 2 CPU cores.</p><pre class="prism language-javascript">
# Using Jest CLI
jest <span class="token operator">--</span>maxWorkers<span class="token operator">=</span><span class="token number">4</span>

# Using npm test <span class="token punctuation">(</span>e<span class="token punctuation">.</span>g<span class="token punctuation">.</span> <span class="token keyword">with</span> create<span class="token operator">-</span>react<span class="token operator">-</span>app<span class="token punctuation">)</span>
npm test <span class="token operator">--</span> <span class="token operator">--</span>maxWorkers<span class="token operator">=</span><span class="token number">4</span></pre><h3><a class="anchor" name="tests-are-slow-when-leveraging-automocking"></a>Tests are slow when leveraging automocking <a class="hash-link" href="#tests-are-slow-when-leveraging-automocking">#</a></h3><p>Whether via <a href="configuration.html#automock-boolean" target="_blank"><code>automock: true</code></a> in config or lots of <a href="jest-object.html#jestmockmodulename-factory-options" target="_blank"><code>jest.mock(&#x27;my-module&#x27;)</code></a> calls in tests, automocking has a performance cost that can add up in large projects. The more dependencies a module has, the more work Jest has to do to mock it. Something that can offset this performance cost significantly is adding a code transformer that moves <code>import</code> or <code>require</code> calls from the top of a module, where they are always executed, down into the body of the module, where they are usually not executed. This can lower the number of modules Jest has to load when running your tests by a considerable amount.</p><p>To transform <code>import</code> statements, there is <a href="https://github.com/zertosh/babel-plugin-transform-inline-imports-commonjs" target="_blank">babel-plugin-transform-inline-imports-commonjs</a>, and to transform <code>require</code> statements, there is <a href="https://github.com/facebook/fbjs/blob/master/packages/babel-preset-fbjs/plugins/inline-requires.js" target="_blank">Facebook&#x27;s <code>inline-requires</code> babel plugin</a>, which is part of the <code>babel-preset-fbjs</code> package.</p><h3><a class="anchor" name="npm3-node-modules"></a>Я використовую npm3 і мох node_modules не завантажуються правильно. <a class="hash-link" href="#npm3-node-modules">#</a></h3><p>Оновіть <code>jest-cli</code> до <code>0.9.0</code> або вище.</p><h3><a class="anchor" name="i-m-using-babel-and-my-unmocked-imports-aren-t-working"></a>I&#x27;m using babel and my unmocked imports aren&#x27;t working? <a class="hash-link" href="#i-m-using-babel-and-my-unmocked-imports-aren-t-working">#</a></h3><p>Оновіть <code>jest-cli</code> до <code>0.9.0</code> або вище.</p><p>Пояснення:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">dontMock</span><span class="token punctuation">(</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">&#x27;./foo&#x27;</span><span class="token punctuation">;</span></pre><p>In ES6, import statements get hoisted before all other</p><pre class="prism language-javascript">
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jest<span class="token punctuation">.</span><span class="token function">dontMock</span><span class="token punctuation">(</span><span class="token string">&#x27;foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// Oops!</span></pre><p>In Jest 0.9.0, a new API <code>jest.unmock</code> was introduced. Together with a plugin for babel, this will now work properly when using <code>babel-jest</code>:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">unmock</span><span class="token punctuation">(</span><span class="token string">&#x27;./foo&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// Use unmock!</span>

<span class="token keyword">import</span> foo <span class="token keyword">from</span> <span class="token string">&#x27;./foo&#x27;</span><span class="token punctuation">;</span>

<span spellcheck="true" class="token comment">// foo is not mocked!</span></pre><p>See the <a href="/jest/docs/getting-started.html#using-babel" target="">Getting Started</a> guide on how to enable babel support.</p><h3><a class="anchor" name="jest-090"></a>Я оновився до Jest 0.9.0 і тепер мої тести падають? <a class="hash-link" href="#jest-090">#</a></h3><p>Jest зараз використовує Jasmine 2 за замовчуванням. Це повинно бути легко оновити використовуючи Jasmine <a href="http://jasmine.github.io/2.0/introduction.html" target="_blank">інструкцію для оновленя</a>.</p><p>If you would like to continue using Jasmine 1, set the <code>testRunner</code> config option to <code>jasmine1</code> or pass <code>--testRunner=jasmine1</code> as a command line option.</p><h3><a class="anchor" name=""></a>Проблеми сумісності <a class="hash-link" href="#">#</a></h3><p>Jest takes advantage of new features added to Node 4. We recommend that you upgrade to the latest stable release of Node. The minimum supported version is <code>v4.0.0</code>. Versions <code>0.x.x</code> are not supported.</p><h3><a class="anchor" name=""></a>Все ще невирішені? <a class="hash-link" href="#">#</a></h3><p>Дивіться в <a href="/jest/help.html" target="">допомозі</a>.</p></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="testing-frameworks.html#content">← Попередня</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"></a><div><h5>Docs</h5><a href="/jest/docs/uk/getting-started.html">Getting Started</a><a href="/jest/docs/uk/snapshot-testing.html">Guides</a><a href="/jest/docs/uk/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/uk/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script><script async defer src="https://buttons.github.io/buttons.js"></script></body></html>