<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>The Jest Object · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="The Jest Object · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="Obiectul `jest` este în mod automat disponibil în fiecare fişier de test. Metodele din obiectul `jest` ajută la crearea dublurilor şi la controlul comportamentului general."><link rel="apple-touch-icon" sizes="180x180" href="/jest/img/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/jest/img/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/jest/img/favicon/favicon-16x16.png"><link rel="manifest" href="/jest/img/favicon/manifest.json"><link rel="mask-icon" href="/jest/img/favicon/safari-pinned-tab.svg"><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"><meta name="msapplication-config" content="/jest/img/favicon/browserconfig.xml"><meta name="theme-color" content="#99424f"><link rel="alternate" type="application/atom+xml" href="/jest/blog/atom.xml" title="Jest Blog ATOM Feed"><link rel="alternate" type="application/rss+xml" href="/jest/blog/feed.xml" title="Jest Blog RSS Feed"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css?v=2"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/ro/getting-started.html" class="active">Documentație</a></li><li><a href="/jest/docs/ro/api.html" class="">API</a></li><li><a href="/jest/ro/help.html" class="">Ajutor</a></li><li><a href="/jest/blog/" class="">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg">Română</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/ja">日本語</a></li><li><a href="/jest/en">English</a></li><li><a href="/jest/es-ES">Español</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/uk">Українська</a></li><li><a href="/jest/zh-Hans">简体中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ro/getting-started.html#content">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/using-matchers.html#content">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/asynchronous.html#content">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/setup-teardown.html#content">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/mock-functions.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/more-resources.html#content">More Resources</a></li></ul></div><div class="navGroup navGroupActive"><h3>API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ro/api.html#content">Globals</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/expect.html#content">Expect</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/mock-function-api.html#content">Mock Functions</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/ro/jest-object.html#content">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/configuration.html#content">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/cli.html#content">Jest CLI Options</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ro/snapshot-testing.html#content">Testarea de imagine</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/tutorial-react.html#content">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/tutorial-react-native.html#content">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/tutorial-async.html#content">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/timer-mocks.html#content">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/manual-mocks.html#content">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/webpack.html#content">Utilizarea cu Webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/migration-guide.html#content">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/testing-frameworks.html#content">Testarea altor framework-uri</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/troubleshooting.html#content">Troubleshooting</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/ro" target="_blank">Translate this Doc</a><h1>The Jest Object</h1></header><article><div><p>Obiectul <code>jest</code> este în mod automat disponibil în fiecare fişier de test. Metodele din obiectul <code>jest</code> ajută la crearea dublurilor şi la controlul comportamentului general.</p><h2><a class="anchor" name="metode"></a>Metode <a class="hash-link" href="#metode">#</a></h2><ul><li><a href="#jestclearalltimers" target=""><code>jest.clearAllTimers()</code></a></li><li><a href="#jestdisableautomock" target=""><code>jest.disableAutomock()</code></a></li><li><a href="#jestenableautomock" target=""><code>jest.enableAutomock()</code></a></li><li><a href="#jestfnimplementation" target=""><code>jest.fn(implementation)</code></a></li><li><a href="#jestismockfunctionfn" target=""><code>jest.isMockFunction(fn)</code></a></li><li><a href="#jestgenmockfrommodulemodulename" target=""><code>jest.genMockFromModule(moduleName)</code></a></li><li><a href="#jestmockmodulename-factory-options" target=""><code>jest.mock(moduleName, factory, options)</code></a></li><li><a href="#jestunmockmodulename" target=""><code>jest.unmock(moduleName)</code></a></li><li><a href="#jestdomockmodulename-factory-options" target=""><code>jest.doMock(moduleName, factory, options)</code></a></li><li><a href="#jestdontmockmodulename" target=""><code>jest.dontMock(moduleName)</code></a></li><li><a href="#jestclearallmocks" target=""><code>jest.clearAllMocks()</code></a></li><li><a href="#jestresetallmocks" target=""><code>jest.resetAllMocks()</code></a></li><li><a href="#jestrestoreallmocks" target=""><code>jest.restoreAllMocks()</code></a></li><li><a href="#jestresetmodules" target=""><code>jest.resetModules()</code></a></li><li><a href="#jestrunallticks" target=""><code>jest.runAllTicks()</code></a></li><li><a href="#jestrunalltimers" target=""><code>jest.runAllTimers()</code></a></li><li><a href="#jestruntimerstotimemstorun" target=""><code>jest.runTimersToTime(msToRun)</code></a></li><li><a href="#jestrunonlypendingtimers" target=""><code>jest.runOnlyPendingTimers()</code></a></li><li><a href="#jestsetmockmodulename-moduleexports" target=""><code>jest.setMock(moduleName, moduleExports)</code></a></li><li><a href="#jestsettimeouttimeout" target=""><code>jest.setTimeout(timeout)</code></a></li><li><a href="#jestusefaketimers" target=""><code>jest.useFakeTimers()</code></a></li><li><a href="#jestuserealtimers" target=""><code>jest.useRealTimers()</code></a></li><li><a href="#jestspyonobject-methodname" target=""><code>jest.spyOn(object, methodName)</code></a></li></ul><hr><h2><a class="anchor" name="referin-e"></a>Referințe <a class="hash-link" href="#referin-e">#</a></h2><h3><a class="anchor" name="jestclearalltimers"></a><code>jest.clearAllTimers()</code> <a class="hash-link" href="#jestclearalltimers">#</a></h3><p>Sterge orice cronometre în aşteptare din sistemul de cronometrare.</p><p>Acest lucru înseamnă că, în cazul în care există cronometre care au fost programate (dar nu au fost încă executate), acestea vor fi eliminate şi nu vor avea niciodată posibilitatea de a se executa în viitor.</p><h3><a class="anchor" name="jestdisableautomock"></a><code>jest.disableAutomock()</code> <a class="hash-link" href="#jestdisableautomock">#</a></h3><p>Dezactivează automat dublurile mock în sistemul de încărcare a modulelor.</p><p>După apelul aceastei metode, toate <code>require()</code>-urile vor returna versiunile reale ale fiecare modul (în locul unei versiuni dublate).</p><p>Acest lucru este de obicei util atunci când aveţi un scenariu în care numărul de dependenţe pe care doriţi să le dublați este mult mai mic decât celor care doriți să rămână neatinse. De exemplu, dacă scrieți un test pentru un modul care utilizează un număr mare de dependențe ce pot fi clasificate în mod rezonabil ca &quot;detalii de implementare&quot; ale modulului, atunci probabil că nu doriți să fie dublate.</p><p>Exemple de dependențe ce ar putea fi considerate &quot;detaliile de implementare&quot; sunt lucruri variind de la metode încorporate în limbaj (de exemplu, metodele din Array.prototype) metode utilitare comune (de exemplu, underscore/lo-dash etc) sau întregi biblioteci cum ar fi React.js.</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><p><em>Notă: această metodă se numea <code>autoMockOff</code> înainte. Atunci când se utilizează <code>babel-jest</code>, apelurile către <code>disableAutomock</code> vor fi arborate automat în partea de sus a blocului de cod. Utilizaţi <code>autoMockOff</code> dacă doriţi să evitați în mod explicit acest comportament.</em></p><h3><a class="anchor" name="jestenableautomock"></a><code>jest.enableAutomock()</code> <a class="hash-link" href="#jestenableautomock">#</a></h3><p>Activează automat dublurile mock în sistemul de încărcare a modulelor.</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><p><em>Notă: această metodă se numea <code>autoMockOn</code> înainte. Atunci când se utilizează <code>babel-jest</code>, apelurile către <code>enableAutomock</code> vor fi arborate automat în partea de sus a blocului de cod. Utilizaţi <code>autoMockOn</code> dacă doriţi să evitați în mod explicit acest comportament.</em></p><h3><a class="anchor" name="jestfnimplementation"></a><code>jest.fn(implementation)</code> <a class="hash-link" href="#jestfnimplementation">#</a></h3><p>Returnează o <a href="/jest/docs/mock-function-api.html" target="">funcţie mock</a> nouă, nefolosită. Opţional poate primi o implementare.</p><pre class="prism language-javascript">
  <span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>mockFn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span spellcheck="true" class="token comment">// With a mock implementation:</span>
  <span class="token keyword">const</span> returnsTrue <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">returnsTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true;</span></pre><h3><a class="anchor" name="jestismockfunctionfn"></a><code>jest.isMockFunction(fn)</code> <a class="hash-link" href="#jestismockfunctionfn">#</a></h3><p>Determină dacă funcţia pasată este o funcție mock.</p><h3><a class="anchor" name="jestgenmockfrommodulemodulename"></a><code>jest.genMockFromModule(moduleName)</code> <a class="hash-link" href="#jestgenmockfrommodulemodulename">#</a></h3><p>Având în vedere numele unui modul, utilizează sistemul automat de mock pentru a genera o versiune dublată a modulului.</p><p>Acest lucru este util atunci când doriţi să creați un <a href="/jest/docs/manual-mocks.html" target="">mock manual</a>, care extinde comportamentul automat de dublare.</p><h3><a class="anchor" name="jestmockmodulename-factory-options"></a><code>jest.mock(moduleName, factory, options)</code> <a class="hash-link" href="#jestmockmodulename-factory-options">#</a></h3><p>Dublează un modul cu o versiune automată, atunci când este importat. <code>factory</code> şi <code>options</code> sunt opţionale. De exemplu:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// banana.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#x27;banana&#x27;</span><span class="token punctuation">;</span>

<span spellcheck="true" class="token comment">// __tests__/test.js</span>
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../banana&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> banana <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../banana&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// banana will be explicitly mocked.</span>

<span class="token function">banana</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// will return &#x27;undefined&#x27; because the function is auto-mocked.</span></pre><p>Al doilea argument poate fi folosit pentru a specifica un modul explicit, care este rulat în locul celui generat automat de Jest:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> moduleName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// This runs the function specified as second argument to `jest.mock`.</span>
<span class="token function">moduleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// Will return &#x27;42&#x27;;</span></pre><p>Al treilea argument poate fi folosit pentru a crea dubluri virtuale – dubluri ale unor module care nu există de fapt:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span spellcheck="true" class="token comment">/*
   * Implementare personalizată a unui modul care nu există în JS,
   * de exemplu un modul generat sau un modul nativ în react-native.
   */</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>virtual<span class="token punctuation">:</span> <span class="token keyword">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p><em>Avertisment: Importul unui modul într-un fişier de configurare (așa cum e specificată de <code>setupTestFrameworkScriptFile</code>) va preveni dublarea modulului în cauză, precum şi toate modulele pe care le importă.</em></p><p>Module care sunt dublate cu <code>jest.mock</code> sunt dublate numai pentru fişierul care apelează <code>jest.mock</code>. Un alt fişier care importă modulul va primi implementarea originală chiar dacă se execută după fişierul de testare care dublează modulul.</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestunmockmodulename"></a><code>jest.unmock(moduleName)</code> <a class="hash-link" href="#jestunmockmodulename">#</a></h3><p>Indică faptul că sistemul de încărcare a modulelor nu trebuie să returneze niciodată o versiune dublată a modulului specificat la <code>require()</code> (ex. ci trebuie să returneze întotdeauna modulul real).</p><p>Cea mai comună utilizare a acestui API este pentru specificarea modulului pe care un anumit test intenţionează să-l testeze (şi astfel nu vrea să fie dublat automat).</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestdomockmodulename-factory-options"></a><code>jest.doMock(moduleName, factory, options)</code> <a class="hash-link" href="#jestdomockmodulename-factory-options">#</a></h3><p>Atunci când se utilizează <code>babel-jest</code>, apelurile către <code>mock</code> vor fi arborate automat în partea de sus a blocului de cod. Utilizaţi această metodă dacă doriţi să evitați în mod explicit acest comportament.</p><p>Un exemplu când acest lucru este util este atunci când vreți să dublați un modul diferit în acelaşi fişier:</p><pre class="prism language-javascript">
<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  jest<span class="token punctuation">.</span><span class="token function">resetModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;moduleName 1&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  jest<span class="token punctuation">.</span><span class="token function">doMock</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> moduleName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">moduleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;moduleName 2&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  jest<span class="token punctuation">.</span><span class="token function">doMock</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> moduleName <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../moduleName&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token function">moduleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestdontmockmodulename"></a><code>jest.dontMock(moduleName)</code> <a class="hash-link" href="#jestdontmockmodulename">#</a></h3><p>Atunci când se utilizează <code>babel-jest</code>, apelurile către <code>unmock</code> vor fi arborate automat în partea de sus a blocului de cod. Utilizaţi această metodă dacă doriţi să evitați în mod explicit acest comportament.</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestclearallmocks"></a><code>jest.clearAllMocks()</code> <a class="hash-link" href="#jestclearallmocks">#</a></h3><p>Golește proprietăţile <code>mock.calls</code> şi <code>mock.instances</code> ale tuturor dublurilor mock. Echivalent cu apelarea <code>.mockClear()</code> pe fiecare funcţie mock.</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestresetallmocks"></a><code>jest.resetAllMocks()</code> <a class="hash-link" href="#jestresetallmocks">#</a></h3><p>Resetează starea tuturor dublurilor mock. Echivalent cu apelarea <code>.mockReset()</code> pe fiecare funcţie mock.</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestrestoreallmocks"></a><code>jest.restoreAllMocks()</code> <a class="hash-link" href="#jestrestoreallmocks">#</a></h3><h5><a class="anchor" name="disponibil-in-jest-2110"></a>disponibil în Jest <strong>21.1.0+</strong> <a class="hash-link" href="#disponibil-in-jest-2110">#</a></h5><p>Resetează toate dublurile la valoarea lor originală. Echivalent cu apelarea lui <code>.mockRestore</code> pe fiecare funcţie dublată. Țineți minte că <code>jest.restoreAllMocks()</code> funcţionează numai atunci când dublura a fost creată cu <code>jest.spyOn</code>; alte dubluri vor trebui resetate manual.</p><h3><a class="anchor" name="jestresetmodules"></a><code>jest.resetModules()</code> <a class="hash-link" href="#jestresetmodules">#</a></h3><p>Resetează registrul de module - cache-ul tuturor modulelor utilizate. Acest lucru este util pentru a izola module unde starea locală ar putea intra în conflict între teste.</p><p>Exemplu:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> sum1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jest<span class="token punctuation">.</span><span class="token function">resetModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> sum2 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sum1 <span class="token operator">===</span> sum2<span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// &gt; false (Ambele module sum sunt &quot;instanțe&quot; separate ale aceluiași modul sum.)</span></pre><p>Exemplu într-un test:</p><pre class="prism language-javascript">
<span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  jest<span class="token punctuation">.</span><span class="token function">resetModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;works&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;works too&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sum <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;../sum&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span spellcheck="true" class="token comment">// sum este o copie diferită a modului sum din testul precedent.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestrunallticks"></a><code>jest.runAllTicks()</code> <a class="hash-link" href="#jestrunallticks">#</a></h3><p>Epuizează coada de <strong>micro</strong>-comenzi (de obicei interfașată în node prin <code>process.nextTick</code>).</p><p>Atunci când acest API este apelat, toate micro-comenzile în aşteptare care au fost puse în coadă prin intermediul lui <code>process.nextTick</code> vor fi executate. În plus, în cazul în care aceste micro-comenzi programează noi micro-comenzi la rândul lor, acestea vor fi în continuu epuizate până când nu mai există nicio micro-comandă rămasă în coada de aşteptare.</p><h3><a class="anchor" name="jestrunalltimers"></a><code>jest.runAllTimers()</code> <a class="hash-link" href="#jestrunalltimers">#</a></h3><p>Epuizează coada de <strong>macro</strong>-comenzi (adică, toate comenzile din coada <code>setTimeout()</code>, <code>setInterval()</code> şi <code>setImmediate()</code>).</p><p>Atunci când acest API este apelat, toate macro-comenzile în aşteptare care au fost puse în coadă prin intermediul lui <code>setTimeout()</code> sau <code>setInterval()</code> vor fi executate. În plus, în cazul în care aceste macro-comenzi programează noi macro-comenzi la rândul lor, acestea vor fi în continuu epuizate până când nu mai există nicio macro-comandă rămasă în coada de aşteptare.</p><p>Acest lucru este adesea util pentru executarea sincronă de setTimeouts în timpul unui test pentru a testa sincron unele comportamente care s-ar întâmpla numai după execuția callback-ul <code>setTimeout()</code> sau <code>setInterval()</code>. A se vedea <a href="/jest/docs/timer-mocks.html" target="">Dubluri de timp</a> pentru mai multe informaţii.</p><h3><a class="anchor" name="jestrunallimmediates"></a><code>jest.runAllImmediates()</code> <a class="hash-link" href="#jestrunallimmediates">#</a></h3><p>Epuizează toate comenzile din coada <code>setImmediate()</code>.</p><h3><a class="anchor" name="jestruntimerstotimemstorun"></a><code>jest.runTimersToTime(msToRun)</code> <a class="hash-link" href="#jestruntimerstotimemstorun">#</a></h3><p>Epuizează doar coada de macro comenzi (toate comenzile din coada <code>setTimeout()</code>, <code>setInterval()</code> şi <code>setImmediate()</code>).</p><p>Atunci când acest API este apelat, toate &quot;macro-comenzile&quot; în aşteptare care au fost puse în coadă prin intermediul lui <code>setTimeout()</code> sau <code>setInterval()</code> și care ar urma a fi executate în următoarele <code>msToRun</code> milisecunde vor fi executate. În plus în cazul în care aceste macro-comenzi programează noi macro-comenzi care s-ar fi executat în acelaşi interval de timp, acestea se vor executa până când nu mai există nicio macro-comandă rămasă în coada de aşteptare, care trebuia să se fi rulat în decurs de <code>msToRun</code> milisecunde.</p><h3><a class="anchor" name="jestrunonlypendingtimers"></a><code>jest.runOnlyPendingTimers()</code> <a class="hash-link" href="#jestrunonlypendingtimers">#</a></h3><p>Execută numai macro-comenzi care sunt în prezent în așteptare (adică, doar comenzile care au fost puse în coadă de <code>setTimeout()</code> sau <code>setInterval()</code> până la acest moment). În cazul în care oricare din macro-comenzi programează alte macro-comenzi noi, acestea nu vor fi executate.</p><p>Acest lucru este util pentru scenarii, în care modulul testat programează un <code>setTimeout()</code> al cărui apel programează și el la randul lui un alt <code>setTimeout()</code> recursiv (adica programarea nu se opreşte niciodată). În aceste scenarii, este util pentru a putea avansa în timp pas cu pas.</p><h3><a class="anchor" name="jestsetmockmodulename-moduleexports"></a><code>jest.setMock(moduleName, moduleExports)</code> <a class="hash-link" href="#jestsetmockmodulename-moduleexports">#</a></h3><p>Furnizează în mod explicit dublura pe care sistemul ar trebui să o returneze pentru modulul specificat.</p><p>Există situații când dublurile generate automat, nu sunt adecvate pentru nevoile de testare. În mod normal în aceste condiţii ar trebui să scrieți o <a href="/jest/docs/manual-mocks.html" target="">dublura manuala</a>, care să fie mai adecvată pentru modulul respectiv. Cu toate acestea, în cazuri extrem de rare, chiar și o dublură manuală nu este potrivită şi aveţi nevoie pentru a construi dublurile în interiorul testului.</p><p>În aceste scenarii rare utilizaţi acest API pentru a înlocui manual slotul modulului din registrul de dubluri al sistemului.</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><p><em>Reţineţi, este recomandat să folosiţi <a href="#jestmockmodulename-factory-options" target=""> <code>jest.mock()</code></a> în schimb. Al doilea argument al API-ului <code>Jest.mock</code> este un factory de modul în locul unui obiect exportat de către modul.</em></p><h3><a class="anchor" name="jestsettimeouttimeout"></a><code>jest.setTimeout(timeout)</code> <a class="hash-link" href="#jestsettimeouttimeout">#</a></h3><p>Setaţi intervalul implicit de expirare pentru teste şi pentru acțiunile before/after în milisecunde.</p><p><em>Notă: Intervalul de expirate implicit este de 5 secunde, dacă această metodă nu este apelată.</em></p><p>Exemplu:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// 1 secundă</span></pre><h3><a class="anchor" name="jestusefaketimers"></a><code>jest.useFakeTimers()</code> <a class="hash-link" href="#jestusefaketimers">#</a></h3><p>Instruieşte Jest să utilizeze versiunile false pentru funcţiile standard de timp (<code>setTimeout</code>, <code>setInterval</code>, <code>clearTimeout</code>, <code>clearInterval</code>, <code>nextTick</code>, <code>setImmediate</code> şi <code>clearImmediate</code>).</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestuserealtimers"></a><code>jest.useRealTimers()</code> <a class="hash-link" href="#jestuserealtimers">#</a></h3><p>Instruieşte Jest să utilizeze versiunile reale ale funcţiilor standard de timp.</p><p>Returnează obiectul <code>jest</code> pentru înlănţuire.</p><h3><a class="anchor" name="jestspyonobject-methodname"></a><code>jest.spyOn(object, methodName)</code> <a class="hash-link" href="#jestspyonobject-methodname">#</a></h3><h5><a class="anchor" name="disponibil-in-jest-1900"></a>disponibil în Jest <strong>19.0.0+</strong> <a class="hash-link" href="#disponibil-in-jest-1900">#</a></h5><p>Creează o funcţie dublură similar cu <code>jest.fn</code> dar, de asemenea, stochează apelurile către <code>object[methodName]</code>. Returnează o dublură Jest.</p><p><em>Notă: în mod implicit, <code>jest.spyOn</code> și apelează, de asemenea, metoda <strong>spionată</strong>. Acesta este un comportament diferit față de celelalte librării de testare. Dacă doriţi să suprascrieţi funcţia iniţială, puteţi utiliza <code>jest.spyOn (obiect, methodName).mockImplementation(() = &gt; customImplementation)</code> sau <code>object[methodName] = jest.fn(() = &gt; customImplementation);</code></em></p><p>Exemplu:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> video <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> video<span class="token punctuation">;</span></pre><p>Exemplu de test:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> video <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./video&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#x27;plays video&#x27;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> spy <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">spyOn</span><span class="token punctuation">(</span>video<span class="token punctuation">,</span> <span class="token string">&#x27;play&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> isPlaying <span class="token operator">=</span> video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>spy<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>isPlaying<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  spy<span class="token punctuation">.</span><span class="token function">mockReset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  spy<span class="token punctuation">.</span><span class="token function">mockRestore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="mock-function-api.html#content">← Anterior</a><a class="docs-next button" href="configuration.html#content">Continuă lectura →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"></a><div><h5>Docs</h5><a href="/jest/docs/ro/getting-started.html">Getting Started</a><a href="/jest/docs/ro/snapshot-testing.html">Guides</a><a href="/jest/docs/ro/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/ro/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script><script async defer src="https://buttons.github.io/buttons.js"></script></body></html>