<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Mock Functions · Jest</title><meta name="viewport" content="width=device-width"><meta property="og:title" content="Mock Functions · Jest"><meta property="og:type" content="website"><meta property="og:url" content="https://facebook.github.io/jest/index.html"><meta property="og:image" content="https://facebook.github.io/jest/img/opengraph.png"><meta property="og:description" content="Funcţiile mock sunt, de asemenea, cunoscute și ca &quot;spioni&quot;, deoarece acestea vă permit să spionați comportamentul unei funcţii care este apelată indirect de alt cod, decât să testăm doar datele de ieşire. Puteți crea o funcţie mock cu `jest.fn()`. În cazul în care nu este specificată o implementare, funcţia mock va returna `undefined` când este apelată."><link rel="apple-touch-icon" sizes="180x180" href="/jest/img/favicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/jest/img/favicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/jest/img/favicon/favicon-16x16.png"><link rel="manifest" href="/jest/img/favicon/manifest.json"><link rel="mask-icon" href="/jest/img/favicon/safari-pinned-tab.svg"><link rel="shortcut icon" href="/jest/img/favicon/favicon.ico"><meta name="msapplication-config" content="/jest/img/favicon/browserconfig.xml"><meta name="theme-color" content="#99424f"><link rel="alternate" type="application/atom+xml" href="/jest/blog/atom.xml" title="Jest Blog ATOM Feed"><link rel="alternate" type="application/rss+xml" href="/jest/blog/feed.xml" title="Jest Blog RSS Feed"><link rel="shortcut icon" href="/jest/img/favicon.png"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="stylesheet" href="/jest/css/jest.css?v=2"><link rel="stylesheet" href="//cdn.jsdelivr.net/font-hack/2.020/css/hack.min.css"><script type="text/javascript" src="//use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/jest/"><img src="/jest/img/jest-outline.svg"><h2>Jest</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/jest/docs/ro/getting-started.html" class="active">Documentație</a></li><li><a href="/jest/docs/ro/api.html" class="">API</a></li><li><a href="/jest/ro/help.html" class="">Ajutor</a></li><li><a href="/jest/blog/" class="">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/jest/img/language.svg">Română</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/jest/ja">日本語</a></li><li><a href="/jest/en">English</a></li><li><a href="/jest/es-ES">Español</a></li><li><a href="/jest/pt-BR">Português (Brasil)</a></li><li><a href="/jest/ru">Русский</a></li><li><a href="/jest/uk">Українська</a></li><li><a href="/jest/zh-Hans">简体中文</a></li><li><a href="https://crowdin.com/project/jest" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input id="search_input_react" type="text" placeholder="Search"></li><li><a href="https://github.com/facebook/jest" class="">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>API Reference</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Introduction</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ro/getting-started.html#content">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/using-matchers.html#content">Using Matchers</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/asynchronous.html#content">Testing Asynchronous Code</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/setup-teardown.html#content">Setup and Teardown</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/mock-functions.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/more-resources.html#content">More Resources</a></li></ul></div><div class="navGroup navGroupActive"><h3>API Reference</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ro/api.html#content">Globals</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/expect.html#content">Expect</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/jest/docs/ro/mock-function-api.html#content">Mock Functions</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/jest-object.html#content">The Jest Object</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/configuration.html#content">Configuring Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/cli.html#content">Jest CLI Options</a></li></ul></div><div class="navGroup navGroupActive"><h3>Guides</h3><ul><li class="navListItem"><a class="navItem" href="/jest/docs/ro/snapshot-testing.html#content">Testarea de imagine</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/tutorial-react.html#content">Testing React Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/tutorial-react-native.html#content">Testing React Native Apps</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/tutorial-async.html#content">An Async Example</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/timer-mocks.html#content">Timer Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/manual-mocks.html#content">Manual Mocks</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/webpack.html#content">Utilizarea cu Webpack</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/migration-guide.html#content">Migrating to Jest</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/testing-frameworks.html#content">Testarea altor framework-uri</a></li><li class="navListItem"><a class="navItem" href="/jest/docs/ro/troubleshooting.html#content">Troubleshooting</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://crowdin.com/project/jest/ro" target="_blank">Translate this Doc</a><h1>Mock Functions</h1></header><article><div><p>Funcţiile mock sunt, de asemenea, cunoscute și ca &quot;spioni&quot;, deoarece acestea vă permit să spionați comportamentul unei funcţii care este apelată indirect de alt cod, decât să testăm doar datele de ieşire. Puteți crea o funcţie mock cu <code>jest.fn()</code>. În cazul în care nu este specificată o implementare, funcţia mock va returna <code>undefined</code> când este apelată.</p><h2><a class="anchor" name="metode"></a>Metode <a class="hash-link" href="#metode">#</a></h2><div><autogenerated_table_of_contents>

</div><hr><h2><a class="anchor" name="referin-e"></a>Referințe <a class="hash-link" href="#referin-e">#</a></h2><h3><a class="anchor" name="mockfngetmockname"></a><code>mockFn.getMockName()</code> <a class="hash-link" href="#mockfngetmockname">#</a></h3><h5><a class="anchor" name="available-in-jest-2130"></a>available in Jest <strong>21.3.0+</strong> <a class="hash-link" href="#available-in-jest-2130">#</a></h5><p>Returns the mock name string set by calling <code>mockFn.mockName(value)</code>.</p><h3><a class="anchor" name="mockfnmockcalls"></a><code>mockFn.mock.calls</code> <a class="hash-link" href="#mockfnmockcalls">#</a></h3><p>O listă care reprezintă toate apelurile care au fost făcute la această funcţie mock. Fiecare apel este reprezentat de o serie de argumente care au fost pasate în timpul apelului.</p><p>De exemplu: un funcţie mock <code>f</code>, care a fost apelată de două ori, cu argumentele <code>f (&#x27;arg1&#x27;, &#x27;arg2&#x27;)</code>, şi apoi cu argumentele <code>f (&#x27;arg3&#x27;, &#x27;arg4&#x27;)</code> ar avea un array <code>mock.calls</code> care arată în felul următor:</p><pre class="prism language-javascript">
<span class="token punctuation">[</span>
  <span class="token punctuation">[</span><span class="token string">&#x27;arg1&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;arg2&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token string">&#x27;arg3&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;arg4&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="mockfnmockinstances"></a><code>mockFn.mock.instances</code> <a class="hash-link" href="#mockfnmockinstances">#</a></h3><p>Un array care conţine toate instanţele obiectelor instanţiate din această funcţie mock, folosind <code>new</code>.</p><p>De exemplu: O funcţie mock, care a fost instanţiată de două ori ar avea array-ul <code>mock.instances</code> următor:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">mockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>instances<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> a<span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>instances<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> b<span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span></pre><h3><a class="anchor" name="mockfnmockclear"></a><code>mockFn.mockClear()</code> <a class="hash-link" href="#mockfnmockclear">#</a></h3><p>Resetează toate informaţiile stocate în array-urile <a href="#mockfn-mock-calls" target=""> <code>mockFn.mock.calls</code></a> şi <a href="#mockfn-mock-instances" target=""> <code>mockFn.mock.instances</code></a>.</p><p>Acest lucru este util atunci când doriţi să curăţați datele unui mock între două aserțiuni.</p><p>Țineți cont că <code>mockClear</code> va înlocui <code>mockFn.mock</code>, nu doar <a href="#mockfn-mock-calls" target=""> <code>mockFn.mock.calls</code></a> şi <a href="#mockfn-mock-instances" target=""> <code>mockFn.mock.instances</code></a>. Așadar, ar trebui să evitați atribuirea lui <code>mockFn.mock</code> altei variabile, temporare sau nu, pentru a vă asigura că nu accesaţi date vechi.</p><p>Opţiunea de configurare <a href="configuration.html#clearmocks-boolean" target="_blank"> <code>clearMocks</code></a> este disponibilă pentru a curăța automat mock-urile între teste.</p><h3><a class="anchor" name="mockfnmockreset"></a><code>mockFn.mockReset()</code> <a class="hash-link" href="#mockfnmockreset">#</a></h3><p>Resets all information stored in the mock, including any initial implementation and mock name given.</p><p>Acest lucru este util atunci când doriţi să restauraţi complet un mock înapoi la starea sa iniţială.</p><p>Țineți cont că <code>mockReset</code> va înlocui <code>mockFn.mock</code>, nu doar <a href="#mockfn-mock-calls" target=""> <code>mockFn.mock.calls</code></a> şi <a href="#mockfn-mock-instances" target=""> <code>mockFn.mock.instances</code></a>. Așadar, ar trebui să evitați atribuirea lui <code>mockFn.mock</code> altei variabile, temporare sau nu, pentru a vă asigura că nu accesaţi date vechi.</p><h3><a class="anchor" name="mockfnmockrestore"></a><code>mockFn.mockRestore()</code> <a class="hash-link" href="#mockfnmockrestore">#</a></h3><p>Elimină mock-ul şi restabileşte implementarea iniţială.</p><p>Acest lucru este util atunci când vreți să dublați funcţii în anumite cazuri de testare şi să restabiliți implementarea originală în altele.</p><p>Țineți cont că <code>mockFn.mockRestore</code> funcţionează numai atunci când mock-ul a fost creat cu <code>jest.spyOn</code>. Așadar trebuie să faceți voi curățarea atunci când folosiți <code>jest.fn()</code>.</p><h3><a class="anchor" name="mockfnmockimplementationfn"></a><code>mockFn.mockImplementation(fn)</code> <a class="hash-link" href="#mockfnmockimplementationfn">#</a></h3><p>Acceptă o funcţie care va fi folosită ca implementare a mock-ului. Mock în sine va înregistra în continuare toate apelurile și instanțierile – singura diferenţă este că implementarea va fi executată și ea când este apelat mock-ul.</p><p><em>Notă: <code>jest.fn(implementare)</code> este o prescurtare pentru <code>jest.fn().mockImplementation(implementare)</code>.</em></p><p>De exemplu:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockImplementation</span><span class="token punctuation">(</span>scalar <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token number">42</span> <span class="token operator">+</span> scalar<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// or: jest.fn(scalar =&gt; 42 + scalar);</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token function">mockFn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

a <span class="token operator">===</span> <span class="token number">42</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
b <span class="token operator">===</span> <span class="token number">43</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>

mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span>
mockFn<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// true</span></pre><p><code>mockImplementation</code> poate fi folosit și pentru dublarea constructorilor de clase:</p><pre class="prism language-javascript">
<span spellcheck="true" class="token comment">// SomeClass.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">SomeClass</span> <span class="token punctuation">{</span>
  <span class="token function">m</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span spellcheck="true" class="token comment">// OtherModule.test.js</span>
jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&#x27;./SomeClass&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span spellcheck="true" class="token comment">// this happens automatically with automocking</span>
<span class="token keyword">const</span> SomeClass <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;./SomeClass&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> mMock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
SomeClass<span class="token punctuation">.</span><span class="token function">mockImplementation</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">:</span> mMock
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> some <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
some<span class="token punctuation">.</span><span class="token function">m</span><span class="token punctuation">(</span><span class="token string">&#x27;a&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;b&#x27;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Calls to m: &#x27;</span><span class="token punctuation">,</span> mMock<span class="token punctuation">.</span>mock<span class="token punctuation">.</span>calls<span class="token punctuation">)</span></pre><h3><a class="anchor" name="mockfnmockimplementationoncefn"></a><code>mockFn.mockImplementationOnce(fn)</code> <a class="hash-link" href="#mockfnmockimplementationoncefn">#</a></h3><p>Acceptă o funcţie care va fi utilizată ca implementare a mock-ului pentru un singur apel. Poate fi înlănțuită astfel încât mai multe apelări succesive vor produce rezultate diferite.</p><pre class="prism language-javascript">
<span class="token keyword">var</span> myMockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockImplementationOnce</span><span class="token punctuation">(</span>cb <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockImplementationOnce</span><span class="token punctuation">(</span>cb <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">cb</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token keyword">true</span>

<span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> val<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token keyword">false</span></pre><p>Atunci când funcţia mock rămâne fără implementări definite cu mockImplementationOnce, se va executa implementarea implicită cu <code>jest.fn(() = &gt; valoare-implicită)</code> sau <code>.mockImplementation(() = &gt; valoare-implicită)</code> dacă acestea au fost definite:</p><pre class="prism language-javascript">
<span class="token keyword">var</span> myMockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockImplementationOnce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#x27;first call&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockImplementationOnce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string">&#x27;second call&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token string">&#x27;first call&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;second call&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;default&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;default&#x27;</span></pre><h3><a class="anchor" name="mockfnmocknamevalue"></a><code>mockFn.mockName(value)</code> <a class="hash-link" href="#mockfnmocknamevalue">#</a></h3><h5><a class="anchor" name="available-in-jest-2130"></a>available in Jest <strong>21.3.0+</strong> <a class="hash-link" href="#available-in-jest-2130">#</a></h5><p>Accepts a string to use in test result output in place of &quot;jest.fn()&quot; to indicate which mock function is being referenced.</p><p>De exemplu:</p><pre class="prism language-javascript">
<span class="token keyword">const</span> mockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mockName</span><span class="token punctuation">(</span><span class="token string">&#x27;mockedFunction&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span spellcheck="true" class="token comment">// mockFn();</span>
<span class="token function">expect</span><span class="token punctuation">(</span>mockFn<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><p>Will result in this error:</p><pre class="prism language-javascript">
    <span class="token function">expect</span><span class="token punctuation">(</span>mockedFunction<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    Expected mock <span class="token keyword">function</span> to have been called<span class="token punctuation">.</span></pre><h3><a class="anchor" name="mockfnmockreturnthis"></a><code>mockFn.mockReturnThis()</code> <a class="hash-link" href="#mockfnmockreturnthis">#</a></h3><p>Doar o metodă simplificată pentru:</p><pre class="prism language-javascript">
jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre><h3><a class="anchor" name="mockfnmockreturnvaluevalue"></a><code>mockFn.mockReturnValue(value)</code> <a class="hash-link" href="#mockfnmockreturnvaluevalue">#</a></h3><p>Acceptă o valoare ce va fi returnată ori de câte ori se apelează funcţia mock.</p><pre class="prism language-javascript">
<span class="token keyword">const</span> mock <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
mock<span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// 42</span>
mock<span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span spellcheck="true" class="token comment">// 43</span></pre><h3><a class="anchor" name="mockfnmockreturnvalueoncevalue"></a><code>mockFn.mockReturnValueOnce(value)</code> <a class="hash-link" href="#mockfnmockreturnvalueoncevalue">#</a></h3><p>Acceptă o valoare ce va fi returnată pentru un singur apel al funcţiei mock. Poate fi înlănțuită astfel încât apeluri succesive ale funcţiei mock vor returna valori diferite. Atunci când nu mai există valori <code>mockReturnValueOnce</code> rămase, apelurile următoare vor returna valoarea specificată de <code>mockReturnValue</code>.</p><pre class="prism language-javascript">
<span class="token keyword">const</span> myMockFn <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockReturnValue</span><span class="token punctuation">(</span><span class="token string">&#x27;implicit&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockReturnValueOnce</span><span class="token punctuation">(</span><span class="token string">&#x27;primul apel&#x27;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">mockReturnValueOnce</span><span class="token punctuation">(</span><span class="token string">&#x27;al doilea apel&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">myMockFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&gt;</span> <span class="token string">&#x27;primul apel&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;al doilea apel&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;implicit&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;implicit&#x27;</span></pre></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="expect.html#content">← Anterior</a><a class="docs-next button" href="jest-object.html#content">Continuă lectura →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/jest" class="nav-home"><img src="/jest/img/jest-outline.svg" alt="Jest" width="66" height="58"></a><div><h5>Docs</h5><a href="/jest/docs/ro/getting-started.html">Getting Started</a><a href="/jest/docs/ro/snapshot-testing.html">Guides</a><a href="/jest/docs/ro/api.html">API Reference</a></div><div><h5>Community</h5><a href="/jest/ro/users.html">User Showcase</a><a href="http://stackoverflow.com/questions/tagged/jestjs" target="_blank">Stack Overflow</a><a href="https://discordapp.com/channels/102860784329052160/103622435865104384">Jest Chat</a><a href="https://twitter.com/fbjest" target="_blank">Twitter</a></div><div><h5>More</h5><a href="/jest/blog">Blog</a><a href="https://github.com/facebook/jest">GitHub</a><a class="github-button" href="https://github.com/facebook/jest" data-icon="octicon-star" data-count-href="/facebook/jest/stargazers" data-count-api="/repos/facebook/jest#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star facebook/jest on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/jest/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-44373548-17', 'auto');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");

            docsearch({
              apiKey: '833906d7486e4059359fa58823c4ef56',
              indexName: 'jest',
              inputSelector: '#search_input_react'
            });
          </script><script async defer src="https://buttons.github.io/buttons.js"></script></body></html>